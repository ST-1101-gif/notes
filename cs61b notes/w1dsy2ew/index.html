
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ST-1101-gif.github.io/notes/cs61b%20notes/w1dsy2ew/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>W1dsy2ew - 雨33的notebook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cs61b_data_structure" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="雨33的notebook" class="md-header__button md-logo" aria-label="雨33的notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            雨33的notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              W1dsy2ew
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cs161/principles/" class="md-tabs__link">
          
  
  
  Computer Security

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../web/intro/" class="md-tabs__link">
          
  
  
  Internet

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../linux/shell/" class="md-tabs__link">
          
  
  
  Linux

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../linux/regular%20expression/" class="md-tabs__link">
        
  
  
    
  
  Regular Expression

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../git/git/" class="md-tabs__link">
        
  
  
    
  
  Git

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../Go/syntax/" class="md-tabs__link">
        
  
  
    
  
  Go

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cs61a%20notes/chap1/" class="md-tabs__link">
          
  
  
  python

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../java/" class="md-tabs__link">
          
  
  
  DS

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../SQL/MySQL/" class="md-tabs__link">
          
  
  
  SQL

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="雨33的notebook" class="md-nav__button md-logo" aria-label="雨33的notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    雨33的notebook
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    首页
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Computer Security
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Computer Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/principles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Principles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cryptography
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Cryptography
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/Cryptography/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/Cryptography/symmetric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Symmetric
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/Cryptography/hash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hash Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/Cryptography/asymmetric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Asymmetric
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Memory Safety
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Memory Safety
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/memory%20safety/x86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    x86 Assembly
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/memory%20safety/vulnerabilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vulnerabilities
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Web Security
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Web Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/csrf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSRF
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/xss/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    XSS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/sql%20injection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQL Injection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/command%20injection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command Injection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/File%20Inclusion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Inclusion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/File%20Upload/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Upload
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Internet
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Internet
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/transport/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transport
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/applications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/end-to-end/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    End-to-End
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/vim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    vim
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/regular%20expression/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Regular Expression
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git/git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Go/syntax/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Go
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs61a%20notes/chap1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chap1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs61a%20notes/chap2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chap2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs61a%20notes/chap3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chap3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs61a%20notes/chap4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chap4
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            DS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../java/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SQL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/MySQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MySQL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cs61b_data_structure" class="md-nav__link">
    <span class="md-ellipsis">
      CS61B Data Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CS61B Data Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lec1_hello_world_java" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.1 Hello World Java
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.1 Hello World Java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11_first_java_program" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 First Java Program
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12_java" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 在Java中定义函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#work_flow" class="md-nav__link">
    <span class="md-ellipsis">
      Work Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec2_defining_and_instantiating_classes" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.2 Defining and Instantiating Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.2 Defining and Instantiating Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21_class_methods" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 静态方法/类方法 Class Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22_instance_methods" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 非静态方法/实例方法 Instance Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 数组实例化、对象数组
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec3_testing" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.3 Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec4_references_recursion_and_lists" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.4 References, Recursion, and Lists
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.4 References, Recursion, and Lists">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41_primary_types" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Primary Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42_reference_types" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 Reference Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43_instantation_of_arrays" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 Instantation of Arrays
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44_intlist_and_linked_data_structures" class="md-nav__link">
    <span class="md-ellipsis">
      4.4 IntList and Linked Data Structures
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec5_sllists_nested_classes_and_sentinel_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.5 SLLists, Nested Classes and Sentinel Nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec6_dllist_and_arrays" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.6 DLList and Arrays
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.6 DLList and Arrays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61_dllist" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 DLList
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62_array" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 Array
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec7_alists_resizing_vs_slists" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.7 ALists, Resizing, vs. SLists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec8_interface_and_implementation_inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.8 Interface and Implementation Inheritance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.8 Interface and Implementation Inheritance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81_hypernyms_hyponyms_and_interface_inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 Hypernyms, Hyponyms, and Interface Inheritance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82_overloading_and_overriding" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 Overloading and Overriding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83_implementation_inheritance_default_methods" class="md-nav__link">
    <span class="md-ellipsis">
      8.3 Implementation Inheritance: Default Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84_static_and_dynamic_type_dynamic_method_selection" class="md-nav__link">
    <span class="md-ellipsis">
      8.4 Static and Dynamic Type, Dynamic Method Selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85_signature_selection_dynamic_method_selection" class="md-nav__link">
    <span class="md-ellipsis">
      8.5 Signature Selection, Dynamic Method Selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#86_interface_vs_implementation_inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      8.6 Interface vs. Implementation Inheritance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec9_extends_casting_higher_order_functions" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.9 Extends, Casting, Higher Order Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.9 Extends, Casting, Higher Order Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91_extends" class="md-nav__link">
    <span class="md-ellipsis">
      9.1 extends关键字
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92_encapsulation" class="md-nav__link">
    <span class="md-ellipsis">
      9.2 封装encapsulation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93_cast" class="md-nav__link">
    <span class="md-ellipsis">
      9.3 类型转换cast
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94_high_order_functions" class="md-nav__link">
    <span class="md-ellipsis">
      9.4 High Order Functions高阶函数
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec10_subtype_polymorphism_comparators_comparable" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.10 Subtype Polymorphism, Comparators, Comparable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec11_exceptions_iterators_object_methods" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.11 Exceptions, Iterators, Object Methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.11 Exceptions, Iterators, Object Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111_exception" class="md-nav__link">
    <span class="md-ellipsis">
      11.1 抛出异常exception的语法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112_iterator" class="md-nav__link">
    <span class="md-ellipsis">
      11.2 Iterator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113_object_methods" class="md-nav__link">
    <span class="md-ellipsis">
      11.3 Object Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec13_introduction_to_asymptotic_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.13 Introduction to Asymptotic Analysis 渐进性分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec14_disjoin_sets" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.14 Disjoin Sets 不相交集/并查集
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.14 Disjoin Sets 不相交集/并查集">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141" class="md-nav__link">
    <span class="md-ellipsis">
      14.1 基本操作
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#142_through_list_of_set" class="md-nav__link">
    <span class="md-ellipsis">
      14.2 Through List of Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#143_quickfind" class="md-nav__link">
    <span class="md-ellipsis">
      14.3 QuickFind 快速查找
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#144_quickunion" class="md-nav__link">
    <span class="md-ellipsis">
      14.4 QuickUnion 快速连接
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#145_weighted_quick_union_wqu" class="md-nav__link">
    <span class="md-ellipsis">
      14.5 Weighted Quick Union (WQU) 加权快速合并
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#146_weighted_quick_union_with_path_compression_wqupc" class="md-nav__link">
    <span class="md-ellipsis">
      14.6 Weighted Quick Union with Path Compression (WQUPC)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#147" class="md-nav__link">
    <span class="md-ellipsis">
      14.7 总体运行时间比较
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec15_asymptotics_ii" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.15 Asymptotics II 一些函数的渐进性分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec16_adts_sets_maps_bsts" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.16 ADTs, Sets, Maps, BSTs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.16 ADTs, Sets, Maps, BSTs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#161_adts" class="md-nav__link">
    <span class="md-ellipsis">
      16.1 ADTs 抽象数据类型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#162_binary_search_tree" class="md-nav__link">
    <span class="md-ellipsis">
      16.2 Binary Search Tree 二叉搜索树
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec17_b-trees" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.17 B-Trees
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.17 B-Trees">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#171_bst" class="md-nav__link">
    <span class="md-ellipsis">
      17.1 BST二叉搜索树的缺点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#172_b" class="md-nav__link">
    <span class="md-ellipsis">
      17.2 B树的使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#173_b" class="md-nav__link">
    <span class="md-ellipsis">
      17.3 B树的不变量
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#174_b" class="md-nav__link">
    <span class="md-ellipsis">
      17.4 B树的性能
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec18_red_black_trees" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.18 Red Black Trees红黑树
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.18 Red Black Trees红黑树">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#181_rotating_trees" class="md-nav__link">
    <span class="md-ellipsis">
      18.1 Rotating Trees
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#182_creating_left-leaning_red-black_trees_llrb" class="md-nav__link">
    <span class="md-ellipsis">
      18.2 Creating Left-leaning Red-black Trees (LLRB)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#183_inserting_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      18.3 Inserting Nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#184_run_time_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      18.4 Run Time Analysis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec19_hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.19 Hashing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec20_heaps_and_pqs" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.20 Heaps and PQs 堆和优先队列
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec21_tree_and_graph_traversals" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.21 Tree and Graph Traversals
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.21 Tree and Graph Traversals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211_tree_recap" class="md-nav__link">
    <span class="md-ellipsis">
      21.1 Tree Recap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212_graph" class="md-nav__link">
    <span class="md-ellipsis">
      21.2 Graph
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec22_graph_traversals_and_implementations" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.22 Graph Traversals and Implementations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.22 Graph Traversals and Implementations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221_graph_implementations" class="md-nav__link">
    <span class="md-ellipsis">
      22.1 Graph Implementations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222_graph_traversals" class="md-nav__link">
    <span class="md-ellipsis">
      22.2 Graph Traversals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec23_shortest_path" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.23 Shortest Path
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.23 Shortest Path">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231_dijkstra_algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      23.1 Dijkstra Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232_a_algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      23.2 A* Algorithm
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec24_minimum_spanning_trees" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.24 Minimum Spanning Trees最小生成树
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.24 Minimum Spanning Trees最小生成树">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#241_prim_algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      24.1 Prim Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#242_kruskal_algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      24.2 Kruskal Algorithm
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec25_prefix_operations_and_tries" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.25 Prefix Operations and Tries 前缀操作与字典树
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec26_basic_sorts" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.26 Basic Sorts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.26 Basic Sorts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#261_sorting_problem" class="md-nav__link">
    <span class="md-ellipsis">
      26.1 Sorting Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#262_selection_sort" class="md-nav__link">
    <span class="md-ellipsis">
      26.2 Selection Sort 选择排序
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#263_heap_sort" class="md-nav__link">
    <span class="md-ellipsis">
      26.3 Heap Sort 堆排序
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#264_merge_sort" class="md-nav__link">
    <span class="md-ellipsis">
      26.4 Merge sort 归并排序
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#265_insertion_sort" class="md-nav__link">
    <span class="md-ellipsis">
      26.5 Insertion Sort 插入排序
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec27_quick_sort" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.27 Quick Sort 快速排序
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.27 Quick Sort 快速排序">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#271_partitioning" class="md-nav__link">
    <span class="md-ellipsis">
      27.1 Partitioning 分区
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#272" class="md-nav__link">
    <span class="md-ellipsis">
      27.2 快速排序算法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#273_quick_select" class="md-nav__link">
    <span class="md-ellipsis">
      27.3 Quick Select 快速选择
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec28_radix_sort" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.28 Radix Sort 基数排序
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lec.28 Radix Sort 基数排序">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#281_counting_sort" class="md-nav__link">
    <span class="md-ellipsis">
      28.1 Counting Sort 计数排序
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#282_least_significant_digitlsd_radix_sort" class="md-nav__link">
    <span class="md-ellipsis">
      28.2 Least Significant Digit(LSD) Radix Sort
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec29_just-in-time_compiler" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.29 即时编译器（Just-In-Time Compiler）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lec30_compression_complexity_p_np" class="md-nav__link">
    <span class="md-ellipsis">
      Lec.30 Compression, Complexity, P = NP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cs61b_done" class="md-nav__link">
    <span class="md-ellipsis">
      CS61B Done :)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>W1dsy2ew</h1>

<h2 id="cs61b_data_structure">CS61B Data Structure<a class="headerlink" href="#cs61b_data_structure" title="Permanent link">&para;</a></h2>
<h3 id="lec1_hello_world_java">Lec.1 Hello World Java<a class="headerlink" href="#lec1_hello_world_java" title="Permanent link">&para;</a></h3>
<h4 id="11_first_java_program">1.1 First Java Program<a class="headerlink" href="#11_first_java_program" title="Permanent link">&para;</a></h4>
<ol>
<li>在Java中，所有代码都位于<strong>类</strong> <em>(Class)</em> 中</li>
<li>main 函数：所有运行的代码必须在一个声明为 <code>public static void main(String[ ] args)</code> 的方法内</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HelloWorld</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">);</span>
</span><span id="True-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="12_java">1.2 在Java中定义函数<a class="headerlink" href="#12_java" title="Permanent link">&para;</a></h4>
<ol>
<li>Java中变量必须在使用之前声明且具有特定的类型(不可改变)
    <strong>并且会在代码运行之前进行检验</strong></li>
<li>所有函数都是类的一部分，称为类的<strong>方法</strong> <em>(method)</em></li>
<li>
<p>用 <em>public static</em> 定义函数, 函数需要返回值类型, 函数参数必须具有特定类型</p>
<div class="highlight"><pre><span></span><code><span id="True-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LargerDemo</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">larger</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="cm">/*方法的返回值是int, 接受两个int类型的参数*/</span>
</span><span id="True-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
</span><span id="True-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
</span><span id="True-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">larger</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span>
</span><span id="True-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p><div id="Lec1.2.4"> Java中增强的for循环: Enhanced For Loop</div></p>
</li>
<li>
<p>不适用于需要修改集合元素的情况</p>
</li>
<li>不提供对元素索引的访问</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">元素类型</span><span class="w"> </span><span class="n">变量名</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">集合或数组</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="c1">// 使用变量名访问当前遍历到的元素</span>
</span><span id="True-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="p">}</span>
</span><span id="True-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">e</span><span class="p">.</span><span class="na">g</span><span class="p">.</span><span class="w"> </span>
</span><span id="True-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">};</span>
</span><span id="True-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">number</span><span class="p">);</span>
</span><span id="True-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="work_flow">Work Flow<a class="headerlink" href="#work_flow" title="Permanent link">&para;</a></h4>
<p><img alt="alt text" src="Insertgraph/image.png" /></p>
<div class="highlight"><pre><span></span><code><span id="True-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>javac<span class="w"> </span>HelloWorld.java
</span><span id="True-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>java<span class="w"> </span>HelloWorld
</span><span id="True-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>Hello<span class="w"> </span>World!
</span></code></pre></div>
<ol>
<li>这不是运行Java代码的唯一方式，但最常见</li>
<li>将 <code>.java</code> 文件中的程序转换为可执行文件，在Java中主要有两个步骤：<strong>编译</strong>和<strong>解释执行</strong> <em>(compilation and interpretation)</em></li>
<li>
<p>使用<code>.class</code>文件的原因</p>
</li>
<li>
<p><code>.class</code>文件经过了类型检查，使分发的<em>(distributed)</em>代码更安全</p>
</li>
<li><code>.class</code>文件对机器更易执行，运行速度更快并能保护源代码文件</li>
</ol>
<h3 id="lec2_defining_and_instantiating_classes">Lec.2 Defining and Instantiating Classes<a class="headerlink" href="#lec2_defining_and_instantiating_classes" title="Permanent link">&para;</a></h3>
<h4 id="21_class_methods">2.1 静态方法/类方法  <code>Class Methods</code><a class="headerlink" href="#21_class_methods" title="Permanent link">&para;</a></h4>
<ol>
<li>静态方法是类本身执行的方法，通过类名进行调用</li>
<li>
<p>静态变量: 是类固有的属性，而不归属于实例
<sub> 尽量不要使用实例来访问静态变量，通过类名访问</sub></p>
</li>
<li>
<p>关于<code>main</code>方法</p>
</li>
<li>
<p><code>public</code>: 到目前为止，我们所有的方法都以这个关键字开头</p>
</li>
<li><code>static</code>: 它是一个静态方法，不与任何特定实例关联</li>
<li><code>void</code>: 它没有返回类型</li>
<li><code>main</code>: 这是方法的名称</li>
<li><code>String[] args</code>: 这是传递给main方法的参数</li>
</ol>
<h4 id="22_instance_methods">2.2 非静态方法/实例方法 <code>Instance Methods</code><a class="headerlink" href="#22_instance_methods" title="Permanent link">&para;</a></h4>
<ol>
<li>实例方法不包含<code>static</code>关键字</li>
<li>实例方法需要通过一个已经实例化的对象<code>object</code>来调用</li>
<li>一旦对象被实例化，它可以被赋值给已声明的适当类型的变量</li>
<li>一个类的变量<code>variables</code>和方法<code>methods</code>也称为类的成员<code>member</code></li>
<li>通过点操作符<code>.</code>访问类的成员</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Dog</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">weightInPounds</span><span class="p">;</span><span class="w"> </span><span class="c1">// 非静态变量</span>
</span><span id="True-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="True-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">makeNoise</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 实例方法</span>
</span><span id="True-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">weightInPounds</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;yipyipyip!&quot;</span><span class="p">);</span>
</span><span id="True-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">weightInPounds</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;bark. bark.&quot;</span><span class="p">);</span>
</span><span id="True-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;woof!&quot;</span><span class="p">);</span>
</span><span id="True-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="p">}</span>
</span></code></pre></div>
<p>使用<code>dog</code>类的示例方法</p>
<div class="highlight"><pre><span></span><code><span id="True-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DogLauncher</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">        </span><span class="n">Dog</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
</span><span id="True-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">        </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dog</span><span class="p">();</span>
</span><span id="True-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">        </span><span class="n">d</span><span class="p">.</span><span class="na">weightInPounds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
</span><span id="True-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">        </span><span class="n">d</span><span class="p">.</span><span class="na">makeNoise</span><span class="p">();</span>
</span><span id="True-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="23">2.3 数组实例化、对象数组<a class="headerlink" href="#23" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>数组实例化</p>
<div class="highlight"><pre><span></span><code><span id="True-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArrayDemo</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">        </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">someArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="mi">5</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">        </span><span class="n">someArray</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="True-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">        </span><span class="n">someArray</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="True-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>对象数组</p>
<div class="highlight"><pre><span></span><code><span id="True-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DogArrayDemo</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">        </span><span class="n">Dog</span><span class="o">[]</span><span class="w"> </span><span class="n">dogs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dog</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">        </span><span class="n">dogs</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dog</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
</span><span id="True-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">        </span><span class="n">dogs</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dog</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
</span><span id="True-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">        </span><span class="n">dogs</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">.</span><span class="na">makeNoise</span><span class="p">();</span>
</span><span id="True-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="p">}</span>
</span></code></pre></div>
<p><em>注意<code>new</code>的两种不同用法：一次用于创建可以容纳两个<code>Dog</code>对象的数组，两次用于创建每个实际的<code>Dog</code></em></p>
</li>
</ol>
<h3 id="lec3_testing">Lec.3 Testing<a class="headerlink" href="#lec3_testing" title="Permanent link">&para;</a></h3>
<ol>
<li><code>Step Into</code>: 步入，在调试时会进入到方法的内部
    <code>Step Over</code>: 步过，在调试时不会进入到方法内部</li>
<li>集成测试：除去对代码的单元测试，需要通过集成测试确保这些单元能够正确的进行协同工作</li>
<li><code>Test-Driven-Development (TDD)</code>: 测试驱动开发，即先编写测试，在编写代码本身</li>
<li>确定一个新功能</li>
<li>为此功能编写单元测试</li>
<li>运行测试，它应该会失败</li>
<li>编写通过测试的代码</li>
<li>Optional：重构代码</li>
</ol>
<h3 id="lec4_references_recursion_and_lists">Lec.4 References, Recursion, and Lists<a class="headerlink" href="#lec4_references_recursion_and_lists" title="Permanent link">&para;</a></h3>
<h4 id="41_primary_types">4.1 Primary Types<a class="headerlink" href="#41_primary_types" title="Permanent link">&para;</a></h4>
<ol>
<li><code>Java</code>有8种原始类型，分别是<code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>, <code>boolean</code>, <code>char</code>
    <em>Java<strong>不初始化</strong>变量，以保证安全</em></li>
<li>通过一个变量向另一个变量使用<code>=</code>进行赋值时，是将一个变量代表的数据块中的<strong>位</strong> <code>bits</code>赋给了另一个变量</li>
<li>进行参数传递时也是复制位bits</li>
</ol>
<h4 id="42_reference_types">4.2 Reference Types<a class="headerlink" href="#42_reference_types" title="Permanent link">&para;</a></h4>
<ol>
<li>除了原始类型之外的所有类型，都是引用类型</li>
<li>在声明特定类型变量的时候，<code>Java</code>会找到<strong>连续的内存空间</strong>，正好容纳该类型的一个事物; 并且会在内部创建一个条目，将每个变量名映射到位盒中的<strong>第一个位</strong>的位置
    <em><code>Java</code>不允许直接找到数据储存的位置 (与C语言不同)</em></li>
<li>当实例化一个对象时，编译器在分配好空间之后会默认的向里面填充进默认值
    <em>(e.g. <code>0</code> <code>null</code>)</em>
    随后构造器constructor向里面填充其它值</li>
<li>可以把new理解为返回了特定类实例的64位地址</li>
</ol>
<h4 id="43_instantation_of_arrays">4.3 Instantation of Arrays<a class="headerlink" href="#43_instantation_of_arrays" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>数组的声明：</p>
<div class="highlight"><pre><span></span><code><span id="True-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
</span><span id="True-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">Planet</span><span class="o">[]</span><span class="w"> </span><span class="n">planets</span><span class="p">;</span>
</span></code></pre></div>
<p>两个声明都创建了64位的内存空间，用来保存分配的数组空间的<strong>地址</strong>
2. 数组的实例化</p>
<div class="highlight"><pre><span></span><code><span id="True-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">};</span>
</span></code></pre></div>
<p><code>new</code>关键字创建了5个每个32位的<strong>连续的内存空间</strong>，并将<strong>整体对象的地址</strong>返回以分配给x</p>
</li>
</ol>
<h4 id="44_intlist_and_linked_data_structures">4.4 IntList and Linked Data Structures<a class="headerlink" href="#44_intlist_and_linked_data_structures" title="Permanent link">&para;</a></h4>
<p>Reference to <code>Classcode/Lec4_Reference_Recursion_and_Lists</code></p>
<h3 id="lec5_sllists_nested_classes_and_sentinel_nodes">Lec.5 SLLists, Nested Classes and Sentinel Nodes<a class="headerlink" href="#lec5_sllists_nested_classes_and_sentinel_nodes" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>定义节点</p>
<div class="highlight"><pre><span></span><code><span id="True-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">IntNode</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
</span><span id="True-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">IntNode</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>
</span><span id="True-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
</span><span id="True-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">IntNode</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">IntNode</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">        </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
</span><span id="True-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">        </span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
</span><span id="True-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>创建一个SLList的单独类 (user will interact with)</p>
<div class="highlight"><pre><span></span><code><span id="True-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SLList</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">IntNode</span><span class="w"> </span><span class="n">first</span><span class="p">;</span>
</span><span id="True-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1">// 使first无法直接从外部访问</span>
</span><span id="True-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">SLList</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">        </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntNode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
</span><span id="True-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>与<code>IntList</code>定义一个新链表时的对比</p>
<div class="highlight"><pre><span></span><code><span id="True-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">IntList</span><span class="w"> </span><span class="n">L1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntList</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
</span><span id="True-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="n">SLList</span><span class="w"> </span><span class="n">L2</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SLList</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span></code></pre></div>
<p><em>隐藏了空指针<code>null</code>的细节</em>
3. <code>addFirst</code>以及<code>getFirst</code>方法</p>
<div class="highlight"><pre><span></span><code><span id="True-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="cm">/** Adds an item to the front of the list. */</span>
</span><span id="True-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addFirst</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntNode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">first</span><span class="p">);</span>
</span><span id="True-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="p">}</span>
</span><span id="True-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
</span><span id="True-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="cm">/** Retrieves the front item from the list. */</span>
</span><span id="True-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getFirst</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">first</span><span class="p">.</span><span class="na">item</span><span class="p">;</span>
</span><span id="True-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><em>相对于<code>IntList</code>避免了显式的<code>new</code>关键字的使用</em></li>
</ul>
</li>
<li>
<p>嵌套类 <code>Nested Classes</code>
    嵌套类对代码没有有意义的影响，只是为了代码的直观</p>
<div class="highlight"><pre><span></span><code><span id="True-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SLList</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">IntNode</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
</span><span id="True-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="n">IntNode</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>
</span><span id="True-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="nf">IntNode</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">IntNode</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">                </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
</span><span id="True-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">                </span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
</span><span id="True-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">            </span><span class="p">}</span>
</span><span id="True-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>
</span><span id="True-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">IntNode</span><span class="w"> </span><span class="n">first</span><span class="p">;</span><span class="w"> </span>
</span><span id="True-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>
</span><span id="True-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">SLList</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">        </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntNode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
</span><span id="True-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span>
</span><span id="True-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="err">···</span>
</span><span id="True-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>如果嵌套类不需要使用<code>SLList</code>的任何方法或者变量，则可以将其声明为<code>static</code>，意味着静态类中的方法不能访问封闭类的任何成员</li>
<li>这可以节省内存，因为每个<code>IntNode</code>不再需要知道如何访问其封闭的<code>SLList</code></li>
</ul>
</li>
<li>
<p><code>addLast</code>和<code>size</code>方法</p>
<div class="highlight"><pre><span></span><code><span id="True-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="cm">/** 在列表末尾添加一个项目。 */</span>
</span><span id="True-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addLast</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">    </span><span class="n">IntNode</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">first</span><span class="p">;</span>
</span><span id="True-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
</span><span id="True-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">    </span><span class="cm">/* 将p推进到列表末尾。 */</span>
</span><span id="True-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">next</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">        </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="na">next</span><span class="p">;</span>
</span><span id="True-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="w">    </span><span class="n">p</span><span class="p">.</span><span class="na">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntNode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
</span><span id="True-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="p">}</span>
</span><span id="True-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>
</span><span id="True-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="cm">/** 从IntNode p开始返回列表的大小。 */</span>
</span><span id="True-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">size</span><span class="p">(</span><span class="n">IntNode</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">next</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>
</span><span id="True-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">size</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">next</span><span class="p">);</span>
</span><span id="True-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="p">}</span>
</span><span id="True-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>
</span><span id="True-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">size</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">size</span><span class="p">(</span><span class="n">first</span><span class="p">);</span>
</span><span id="True-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>此处有两个<code>size</code>方法，具有相同名称但不同<strong>函数签名</strong>的两个方法是<strong>重载</strong>的</li>
</ul>
</li>
<li>
<p>对<code>size</code>的改进</p>
</li>
<li>
<p>重写<code>size</code>方法</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SLList</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">    </span><span class="p">...</span><span class="w"> </span><span class="cm">/* IntNode声明省略。 */</span>
</span><span id="True-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">IntNode</span><span class="w"> </span><span class="n">first</span><span class="p">;</span>
</span><span id="True-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
</span><span id="True-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
</span><span id="True-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">SLList</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">        </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntNode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
</span><span id="True-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">        </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>
</span><span id="True-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addFirst</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="w">        </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntNode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">first</span><span class="p">);</span>
</span><span id="True-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="w">        </span><span class="n">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>
</span><span id="True-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">size</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
</span><span id="True-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="w">    </span><span class="p">...</span>
</span><span id="True-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>
<p>这种将重要数据缓存以提高检索速度的做法称为<strong>缓存</strong></p>
</li>
<li>
<p>创建空列表</p>
<div class="highlight"><pre><span></span><code><span id="True-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kd">public</span><span class="w"> </span><span class="nf">SLList</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">    </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="True-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="True-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>修复<code>addLast</code>方法以防止其向空列表插入时崩溃</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addLast</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="n">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span><span class="n">IntNode</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sentinel</span><span class="p">;</span>
</span><span id="True-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">next</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">        </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="na">next</span><span class="p">;</span>
</span><span id="True-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>
</span><span id="True-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">    </span><span class="n">p</span><span class="p">.</span><span class="na">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntNode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
</span><span id="True-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>不变量是数据结构中总是成立的一个事实
    带有哨兵节点的SLList至少有以下不变量：
        - sentinel引用始终指向一个哨兵节点
        - 如果存在前项，则始终在sentinel.next.item
        - size变量始终是已添加项目的总数</p>
</li>
</ul>
<h3 id="lec6_dllist_and_arrays">Lec.6 DLList and Arrays<a class="headerlink" href="#lec6_dllist_and_arrays" title="Permanent link">&para;</a></h3>
<h4 id="61_dllist">6.1 DLList<a class="headerlink" href="#61_dllist" title="Permanent link">&para;</a></h4>
<ol>
<li>Sentinel Nodes：将双向链表的第一个节点和最后一个节点分别由哨兵节点的<code>next</code>和<code>prev</code>指向</li>
<li>
<p>Generic DLList：泛型双向链表，允许包含任何<strong>引用类型</strong></p>
</li>
<li>
<p>在实现数据结构的.java文件中，只在文件顶部的类名后指定泛型类型名称一次</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DLList</span><span class="o">&lt;</span><span class="n">BleepBlorp</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">IntNode</span><span class="w"> </span><span class="n">sentinel</span><span class="p">;</span>
</span><span id="True-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
</span><span id="True-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>
</span><span id="True-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">IntNode</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">IntNode</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
</span><span id="True-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">BleepBlorp</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
</span><span id="True-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">IntNode</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>
</span><span id="True-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">        </span><span class="p">...</span>
</span><span id="True-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">    </span><span class="p">...</span>
</span><span id="True-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><code>BleepBlorp</code>可以用其他名字代替</li>
<li>在声明期间将相应的<strong>引用类型</strong>放在尖括号<code>&lt;&gt;</code>内，并在实例化期间使用空尖括号<code>&lt;&gt;</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">DLList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">d2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DLList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span>
</span><span id="True-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="n">d2</span><span class="p">.</span><span class="na">addLast</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">);</span>
</span></code></pre></div>
<ul>
<li>如果需要对原始类型进行泛型实例化，请使用<code>Integer</code>、<code>Double</code>、<code>Character</code>、<code>Boolean</code>、<code>Long</code>、<code>Short</code>、<code>Byte</code>或<code>Float</code>代替它们的原始等价物</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">DLList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DLList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span><span id="True-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">d1</span><span class="p">.</span><span class="na">insertFront</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</span><span id="True-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
</span><span id="True-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="cm">/* 但是在实例化时在尖括号中加上数据类型也可以，尽管有些多余 */</span>
</span><span id="True-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="n">DLList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DLList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span></code></pre></div>
<h4 id="62_array">6.2 Array<a class="headerlink" href="#62_array" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>数组的创建</p>
<div class="highlight"><pre><span></span><code><span id="True-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">};</span>
</span><span id="True-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">};</span>
</span></code></pre></div>
<ul>
<li><code>x</code>: 创建一个长度为3的数组，并用默认的<code>int</code>值<code>0</code>填充</li>
<li><code>y</code>: 创建了一个长度为5的数组，包含这五个特定元素</li>
<li><code>z</code>: 与前者有相同的行为，省略了<code>new</code>关键字的使用</li>
</ul>
</li>
<li>
<p><code>arraycopy</code>方法</p>
<div class="highlight"><pre><span></span><code><span id="True-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">System</span><span class="p">.</span><span class="na">arraycopy</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</span></code></pre></div>
<p><code>System.arraycopy</code>需要五个参数：</p>
<ul>
<li>作为源的数组</li>
<li>源数组中的起始位置</li>
<li>作为目标的数组</li>
<li>目标数组中的起始位置</li>
<li>要复制的项目数量
等同于<code>python</code>中的<code>x[3:5] = b[0:2]</code></li>
</ul>
</li>
<li>
<p><code>java</code>中的二维数组：实质上是数组的数组</p>
<div class="highlight"><pre><span></span><code><span id="True-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="kt">int</span><span class="o">[][]</span><span class="w"> </span><span class="n">pascalsTriangle</span><span class="p">;</span>
</span><span id="True-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="n">pascalsTriangle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="mi">4</span><span class="o">][]</span><span class="p">;</span>
</span><span id="True-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">rowZero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pascalsTriangle</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>
</span><span id="True-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="n">pascalsTriangle</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="p">{</span><span class="mi">1</span><span class="p">};</span>
</span><span id="True-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="n">pascalsTriangle</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">};</span>
</span><span id="True-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="n">pascalsTriangle</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">};</span>
</span><span id="True-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="n">pascalsTriangle</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">};</span>
</span><span id="True-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">rowTwo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pascalsTriangle</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="n">rowTwo</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">5</span><span class="p">;</span>
</span><span id="True-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>
</span><span id="True-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="kt">int</span><span class="o">[][]</span><span class="w"> </span><span class="n">matrix</span><span class="p">;</span>
</span><span id="True-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="n">matrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="mi">4</span><span class="o">][]</span><span class="p">;</span><span class="w"> </span>
</span><span id="True-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="c1">// Java allows you to create an </span>
</span><span id="True-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="c1">// array of arrays in two steps.</span>
</span><span id="True-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="n">matrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="mi">4</span><span class="o">][</span><span class="mi">4</span><span class="o">]</span><span class="p">;</span><span class="w"> </span>
</span><span id="True-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="c1">// Now, each array in the matrix array </span>
</span><span id="True-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="c1">// has been initialized to length 4.</span>
</span><span id="True-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a>
</span><span id="True-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="kt">int</span><span class="o">[][]</span><span class="w"> </span><span class="n">pascalAgain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[][]</span><span class="p">{{</span><span class="mi">1</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span><span class="w"> </span>
</span><span id="True-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a><span class="w">                                </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">}};</span>
</span></code></pre></div>
</li>
<li>
<p>数组与类</p>
</li>
<li>
<p>数组的内存是编号的，使用<code>[]</code>访问，类的内存空间是命名的，使用<code>.</code>操作符访问</p>
</li>
<li>数组储存的数据必须是相同类型，而类可以是不同类型</li>
</ol>
<h3 id="lec7_alists_resizing_vs_slists">Lec.7 ALists, Resizing, vs. SLists<a class="headerlink" href="#lec7_alists_resizing_vs_slists" title="Permanent link">&para;</a></h3>
<ol>
<li>对<code>AList</code>的基本表示</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AList</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">   </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">items</span><span class="p">;</span>
</span><span id="True-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">   </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
</span><span id="True-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>
</span><span id="True-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="nf">AList</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">       </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="mi">100</span><span class="o">]</span><span class="p">;</span><span class="w">  </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="True-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">   </span><span class="p">}</span>
</span><span id="True-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>
</span><span id="True-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addLast</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="w">       </span><span class="n">items</span><span class="o">[</span><span class="n">size</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
</span><span id="True-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="w">       </span><span class="n">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="w">   </span><span class="p">}</span>
</span><span id="True-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a>
</span><span id="True-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getLast</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="o">[</span><span class="n">size</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="w">   </span><span class="p">}</span>
</span><span id="True-25-17"><a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a>
</span><span id="True-25-18"><a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-25-19"><a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-25-20"><a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a><span class="w">   </span><span class="p">}</span>
</span><span id="True-25-21"><a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a>
</span><span id="True-25-22"><a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">size</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-25-23"><a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
</span><span id="True-25-24"><a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a><span class="w">   </span><span class="p">}</span>
</span><span id="True-25-25"><a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li>
<p>AList Invariants不变量：</p>
</li>
<li>
<p>要插入的下一个项目的位置始终是<code>size</code></p>
</li>
<li><code>size</code>始终是<code>AList</code>中的项目数量</li>
<li>
<p>列表中的最后一个项目始终位于位置<code>size - 1</code></p>
</li>
<li>
<p>Geometric Resizing 以几何级数动态调整数组大小</p>
</li>
<li>
<p>相对与<code>+</code>，<code>*</code>对增添元素的效率更高 (显而易见)</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">insertBack</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">           </span><span class="n">resize</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">RFACTOR</span><span class="p">);</span>
</span><span id="True-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">    </span><span class="n">items</span><span class="o">[</span><span class="n">size</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
</span><span id="True-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">    </span><span class="n">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li>
<p>Memory Performance：</p>
</li>
<li>
<p>上面的方法会导致删除数据后大量空间被浪费</p>
</li>
<li>
<p>可以额外定义一个<code>"usage ratio" R</code>，其大小等于列表的大小除以数组的长度，当<code>R</code>小于某个值时(e.g. 0.25)，数组长度减小(e.g. 变为原来的二分之一)</p>
</li>
<li>
<p>Generic ALists泛化数组列表</p>
</li>
<li>
<p><code>Java</code>不允许创建泛型对象数组</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="n">Glorp</span><span class="o">[]</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Glorp</span><span class="o">[</span><span class="mi">8</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// 错误！</span>
</span><span id="True-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>
</span><span id="True-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="n">Glorp</span><span class="o">[]</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Glorp</span><span class="w"> </span><span class="o">[]</span><span class="p">)</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Object</span><span class="o">[</span><span class="mi">8</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// 正确！</span>
</span></code></pre></div>
<ol>
<li>对于删除的项，要手动将其变为<code>null</code>，因为此时引用仍然存在，<code>java</code>不会自动对添加到列表的对象进行回收</li>
</ol>
<h3 id="lec8_interface_and_implementation_inheritance">Lec.8 Interface and Implementation Inheritance<a class="headerlink" href="#lec8_interface_and_implementation_inheritance" title="Permanent link">&para;</a></h3>
<h4 id="81_hypernyms_hyponyms_and_interface_inheritance">8.1 Hypernyms, Hyponyms, and Interface Inheritance<a class="headerlink" href="#81_hypernyms_hyponyms_and_interface_inheritance" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>上位词<code>Hypernyms</code>和<code>Hyponyms</code>构成了一种层次结构<code>Hierarchy</code></p>
</li>
<li>
<p><em>List is a hypernym of SLList and AList</em></p>
</li>
<li>
<p><code>java</code>中通过两步表达这一过程</p>
<ul>
<li>为上位词定义一个引用类型<code>List61B.java</code></li>
<li>指定<code>SLList</code>和<code>AList</code>是该类型的下位词</li>
</ul>
</li>
<li>
<p>使用关键词<code>interface</code>来定义<code>List61B</code></p>
</li>
<li>
<p>这个“接口”定义列表能实现什么<code>what</code>，但不关心列表的实现方式<code>how</code></p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">List61B</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addFirst</span><span class="w"> </span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
</span><span id="True-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">getFirst</span><span class="w"> </span><span class="p">();</span>
</span><span id="True-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="nf">get</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
</span><span id="True-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">    </span><span class="p">...</span>
</span><span id="True-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>改进过后的其他函数则可变为</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">longest</span><span class="w"> </span><span class="p">(</span><span class="n">List61B</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">);</span>
</span></code></pre></div>
<ol>
<li>子类<strong>必须</strong>覆盖在接口中声明的所有方法</li>
</ol>
<h4 id="82_overloading_and_overriding">8.2 Overloading and Overriding<a class="headerlink" href="#82_overloading_and_overriding" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>Defination</p>
</li>
<li>
<p><code>Overloading</code>: 同一个类中可以有多个相同名字的方法，只要它们的函数签名不同即可<em>与继承无关</em></p>
</li>
<li>
<p><code>Overriding</code>: 重写是指子类中有一个方法与父类中的某个方法具有相同的方法名，返回类型和参数列表，子类通过重写方法可以提供专属的实现<em>与继承有关</em></p>
</li>
<li>
<p><code>@Override</code>标签</p>
</li>
<li>
<p>如果出现拼写错误，编译器会提示修正</p>
</li>
<li>提醒程序员这个方法来自于超类</li>
</ol>
<h4 id="83_implementation_inheritance_default_methods">8.3 Implementation Inheritance: Default Methods<a class="headerlink" href="#83_implementation_inheritance_default_methods" title="Permanent link">&para;</a></h4>
<p>使用<code>default</code>关键字使得子类也可以从接口中继承实现，这个默认方法可以在子类中重写<code>override</code></p>
<div class="highlight"><pre><span></span><code><span id="True-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">List61B</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addFirst</span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
</span><span id="True-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">    </span><span class="p">...</span>
</span><span id="True-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">   </span><span class="k">default</span><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">print</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">         </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">);</span>
</span><span id="True-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">      </span><span class="p">}</span>
</span><span id="True-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="w">      </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">();</span>
</span><span id="True-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="w">   </span><span class="p">}</span>
</span><span id="True-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="84_static_and_dynamic_type_dynamic_method_selection">8.4 Static and Dynamic Type, Dynamic Method Selection<a class="headerlink" href="#84_static_and_dynamic_type_dynamic_method_selection" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>静态类型是指变量在编译时的类型</p>
</li>
<li>
<p>在声明<code>declaration</code>时确定，永远不会改变</p>
</li>
<li>
<p>动态类型是变量在运行时的类型</p>
</li>
<li>
<p>在实例化<code>instantiation</code>的时候确定
   <em>(e.g. when using <code>new</code>)</em></p>
</li>
<li>
<p>等于所指向对象的类型</p>
</li>
<li>
<p>Dynamic Method Selection For Overridden Methods 动态方法选择
如果通过一个变量调用对象的方法</p>
</li>
<li>
<p>静态类型<code>X</code></p>
</li>
<li>动态类型<code>Y</code>
   如果在<code>Y</code>中重写了这个方法，那么<code>Y</code>中重写的方法会被调用</li>
</ol>
<h4 id="85_signature_selection_dynamic_method_selection">8.5 Signature Selection, Dynamic Method Selection<a class="headerlink" href="#85_signature_selection_dynamic_method_selection" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span id="True-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Animal</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">    </span><span class="k">default</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="n">Animal</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;hello animal&quot;</span><span class="p">);</span><span class="w"> </span>
</span><span id="True-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">    </span><span class="k">default</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">sniff</span><span class="p">(</span><span class="n">Animal</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;sniff animal&quot;</span><span class="p">);</span><span class="w"> </span>
</span><span id="True-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">    </span><span class="k">default</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">praise</span><span class="p">(</span><span class="n">Animal</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;u r cool animal&quot;</span><span class="p">);</span><span class="w"> </span>
</span><span id="True-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="p">}</span>
</span><span id="True-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a>
</span><span id="True-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Dog</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Animal</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="True-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">sniff</span><span class="p">(</span><span class="n">Animal</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;dog sniff animal&quot;</span><span class="p">);</span>
</span><span id="True-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">    </span><span class="cm">/* default void praise(Animal a) */</span>
</span><span id="True-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">praise</span><span class="p">(</span><span class="n">Dog</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-31-20"><a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;u r cool dog&quot;</span><span class="p">);</span>
</span><span id="True-31-21"><a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-31-22"><a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="p">}</span>
</span><span id="True-31-23"><a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a>
</span><span id="True-31-24"><a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="n">Animal</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dog</span><span class="p">();</span>
</span><span id="True-31-25"><a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="n">Dog</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dog</span><span class="p">();</span>
</span><span id="True-31-26"><a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="n">a</span><span class="p">.</span><span class="na">greet</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;hello animal&quot;</span>
</span><span id="True-31-27"><a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="n">a</span><span class="p">.</span><span class="na">sniff</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;dog sniff animal&quot;</span>
</span><span id="True-31-28"><a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a><span class="n">d</span><span class="p">.</span><span class="na">praise</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;u r cool dog&quot;</span>
</span><span id="True-31-29"><a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="n">a</span><span class="p">.</span><span class="na">praise</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;u r cool animal&quot;</span>
</span></code></pre></div>
<p>考虑动态方法的选择过程分为两步</p>
<ul>
<li>编译时：决定调用函数的签名
<em>签名仅由静态类型决定</em></li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="n">Animal</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dog</span><span class="p">();</span>
</span><span id="True-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="n">Dog</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dog</span><span class="p">();</span>
</span><span id="True-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="n">a</span><span class="p">.</span><span class="na">greet</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="w">  </span><span class="c1">// greet(Animal a)</span>
</span><span id="True-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="n">a</span><span class="p">.</span><span class="na">sniff</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="w">  </span><span class="c1">// sniff(Animal a)</span>
</span><span id="True-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="n">d</span><span class="p">.</span><span class="na">praise</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="w"> </span><span class="c1">// praise(Dog a)</span>
</span><span id="True-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="n">a</span><span class="p">.</span><span class="na">praise</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="w"> </span><span class="c1">// praise(Animal a)</span>
</span></code></pre></div>
<ul>
<li>运行时：调用对象的动态类型使用具有<strong>确切</strong>此类型的签名的方法
<em>(如果有)</em></li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="n">Animal</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dog</span><span class="p">();</span>
</span><span id="True-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="n">Dog</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dog</span><span class="p">();</span>
</span><span id="True-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="n">a</span><span class="p">.</span><span class="na">greet</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="w"> </span><span class="c1">// greet(Animal a) - &quot;hello animal&quot;</span>
</span><span id="True-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="n">a</span><span class="p">.</span><span class="na">sniff</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="w"> </span><span class="c1">// sniff(Animal a) - &quot;dog sniff animal&quot;</span>
</span><span id="True-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="n">d</span><span class="p">.</span><span class="na">praise</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="c1">// praise(Dog a) - &quot;u r cool dog&quot;</span>
</span><span id="True-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="n">a</span><span class="p">.</span><span class="na">praise</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="c1">// praise(Animal a) - &quot;u r cool animal&quot;</span>
</span></code></pre></div>
<h4 id="86_interface_vs_implementation_inheritance">8.6 Interface vs. Implementation Inheritance<a class="headerlink" href="#86_interface_vs_implementation_inheritance" title="Permanent link">&para;</a></h4>
<ul>
<li>接口继承：以一种强大、简单的方式泛化代码</li>
<li>实现继承：子类可以依赖接口或者超类的方法，子类可以自行决定是否覆盖默认实现</li>
</ul>
<h3 id="lec9_extends_casting_higher_order_functions">Lec.9 Extends, Casting, Higher Order Functions<a class="headerlink" href="#lec9_extends_casting_higher_order_functions" title="Permanent link">&para;</a></h3>
<h4 id="91_extends">9.1 <code>extends</code>关键字<a class="headerlink" href="#91_extends" title="Permanent link">&para;</a></h4>
<ul>
<li>当一个类是接口的下义词时，我们使用<code>implements</code></li>
<li>让一个类是另一个类的下义词 (而不是接口)，使用<code>extends</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="cm">/* implements 关键字 */</span>
</span><span id="True-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="n">SLList</span><span class="o">&lt;</span><span class="n">Blorp</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">List61B</span><span class="o">&lt;</span><span class="n">Blorp</span><span class="o">&gt;</span>
</span><span id="True-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="cm">/* extends 关键字 */</span>
</span><span id="True-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RotatingSLList</span><span class="o">&lt;</span><span class="n">Blorp</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">SLList</span><span class="o">&lt;</span><span class="n">Blorp</span><span class="o">&gt;</span>
</span></code></pre></div>
<ol>
<li>
<p>由于<code>extends</code>，<code>RotatingSLList</code>继承了<code>SLList</code>的所有成员:</p>
</li>
<li>
<p>所有实例和静态变量</p>
</li>
<li>所有方法</li>
<li>所有嵌套类</li>
<li>构造函数<strong>不</strong>继承！</li>
<li>
<p>不能直接访问在超类中定义的私有方法及变量
   **通过<code>super.</code>访问</p>
</li>
<li>
<p>构造函数行为</p>
<ul>
<li><code>java</code>规定所有构造函数必须先调用超类的构造函数</li>
<li>可以使用关键字<code>super</code>(没有点<code>.</code>)来显式调用构造函数，如果没有显式调用，<code>java</code>将自动调用默认的超类构造函数</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="cm">/* 一下为等价的构造函数 */</span>
</span><span id="True-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="kd">public</span><span class="w"> </span><span class="nf">VengefulSLList</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="n">deletedItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SLList</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="p">();</span>
</span><span id="True-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="p">}</span>
</span><span id="True-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>
</span><span id="True-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="kd">public</span><span class="w"> </span><span class="nf">VengefulSLList</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="kd">super</span><span class="p">();</span>
</span><span id="True-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="n">deletedItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SLList</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="p">();</span>
</span><span id="True-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>如果想使用除无参数构造函数之外的超构造函数，可以给<code>super</code>传递参数</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="cm">/* 以下构造函数不等价！*/</span>
</span><span id="True-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="kd">public</span><span class="w"> </span><span class="nf">VengefulSLList</span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="kd">super</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span><span id="True-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="n">deletedItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SLList</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="p">();</span>
</span><span id="True-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="p">}</span>
</span><span id="True-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="cm">/* 只调用了空参数的super() */</span>
</span><span id="True-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="kd">public</span><span class="w"> </span><span class="nf">VengefulSLList</span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="n">deletedItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SLList</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="p">();</span>
</span><span id="True-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>事实上，<code>java</code>的每种类型都是<code>object</code>类的下位</p>
</li>
</ol>
<h4 id="92_encapsulation">9.2 封装<code>encapsulation</code><a class="headerlink" href="#92_encapsulation" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>模块：一组方法作为一个整体协同工作完成相关任务。</p>
<ul>
<li>如果一个模块的实现被完全隐藏，只能通过文档化的接口访问，那么这个模块就可以被视为是<strong>封装</strong>的</li>
</ul>
</li>
<li>
<p>封装的优点</p>
</li>
<li>
<p>数据隐藏：隐藏对象的状态信息，只暴露有限的操作界面</p>
</li>
<li>接口与实现分离：封装强调了接口 (<code>public</code>方法) 与实现 (<code>private</code>属性和方法) 的分离，使得修改实现不会影响使用该接口的代码</li>
<li>灵活性和扩展性：在不影响其他模块的情况下，更容易修改和扩展模块的功能</li>
</ol>
<h4 id="93_cast">9.3 类型转换<code>cast</code><a class="headerlink" href="#93_cast" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>使用<code>new</code>关键字的表达式决定动态类型</p>
<div class="highlight"><pre><span></span><code><span id="True-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="cm">/* VengefulSLList 是 SLList，因此允许分配 */</span>
</span><span id="True-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="n">SLList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VengefulSLList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span>
</span><span id="True-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="cm">/* SLList 不一定是 VengefulSLList，因此编译错误 */</span>
</span><span id="True-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="n">VengefulSLList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vsl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SLList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span>
</span></code></pre></div>
</li>
<li>
<p>将所需类型放在表达式前的括号中，使编译器将表达式视为不同动态类型</p>
</li>
</ol>
<h4 id="94_high_order_functions">9.4 High Order Functions高阶函数<a class="headerlink" href="#94_high_order_functions" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>定义：将另一个函数视为数据的函数
*(e.g. 将函数作为输入)</p>
<div class="highlight"><pre><span></span><code><span id="True-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">IntUnaryFunction</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
</span><span id="True-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="p">}</span>
</span><span id="True-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>
</span><span id="True-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TenX</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">IntUnaryFunction</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
</span><span id="True-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="p">}</span>
</span><span id="True-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="p">}</span>
</span><span id="True-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a>
</span><span id="True-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HoFDemo</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">do_twice</span><span class="p">(</span><span class="n">IntUnaryFunction</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">apply</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="na">apply</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
</span><span id="True-38-14"><a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="p">}</span>
</span><span id="True-38-15"><a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a>
</span><span id="True-38-16"><a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-38-17"><a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">do_twice</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">TenX</span><span class="p">(),</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
</span><span id="True-38-18"><a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-38-19"><a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a><span class="p">}</span>
</span></code></pre></div>
</li>
</ol>
<h3 id="lec10_subtype_polymorphism_comparators_comparable">Lec.10 Subtype Polymorphism, Comparators, Comparable<a class="headerlink" href="#lec10_subtype_polymorphism_comparators_comparable" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>子类多态性：为不同类型<code>type</code>的实体提供相同类型的接口<code>interface</code>
    <strong>通过继承和接口实现对象的类型的替换</strong></p>
</li>
<li>
<p>如一个包含<code>animal</code>类型的数组可以包含其子类型如<code>cat</code> <code>dog</code>等类型的元素</p>
</li>
<li>
<p>显式高阶函数：允许函数作为参数传递或者返回函数的函数
    <strong>函数式编程思想</strong></p>
</li>
<li>
<p>比较器<code>comparator</code></p>
</li>
<li>
<p>在<code>Java</code>中，<code>Comparator</code>接口是一个功能接口，用于定义对象的比较规则</p>
</li>
<li><code>compare(T o1, T o2)</code>: 如果第一个参数小于第二个参数，返回负数；如果相等，返回0；如果大于，返回正数</li>
<li>
<p><code>equals(Object obj)</code>: 这个方法用于比较当前比较器是否与另一个对象相等</p>
</li>
<li>
<p>比较器的实现</p>
</li>
<li>
<p>定义一个类<code>class</code>实现<code>Comparator</code>接口</p>
</li>
<li>实现<code>compare</code>方法，根据自定义的逻辑比较两个对象</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="cm">/* 比较两个字符串的大小，忽略大小写 */</span>
</span><span id="True-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StringComparator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Comparator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="True-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">compare</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">s2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">s1</span><span class="p">.</span><span class="na">compareToIgnoreCase</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span>
</span><span id="True-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><code>Java 8</code>引入了<code>Lambda</code>匿名表达式，使得创建比较器更加简洁</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="n">Comparator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">caseComparator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">s2</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">s1</span><span class="p">.</span><span class="na">compareToIgnoreCase</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span>
</span></code></pre></div>
<ol>
<li>
<p>总结</p>
</li>
<li>
<p>Comparable：一个对象自身与另一个对象比较，定义了一个类型的<code>natural order</code>自然顺序
   <strong><code>compareTo</code>方法</strong></p>
</li>
<li>Comparator：类似一个第三方去比较两个对象
   <strong>由于<code>compareTo</code>方法只有一个，所以当我们需要多种比较方式是，我们应该选择<code>Comparator</code></strong></li>
</ol>
<h3 id="lec11_exceptions_iterators_object_methods">Lec.11 Exceptions, Iterators, Object Methods<a class="headerlink" href="#lec11_exceptions_iterators_object_methods" title="Permanent link">&para;</a></h3>
<p><em>The end of Java!</em></p>
<h4 id="111_exception">11.1 抛出异常<code>exception</code>的语法<a class="headerlink" href="#111_exception" title="Permanent link">&para;</a></h4>
<p><code>throw new ExceptionObject(parameter1, ...)</code></p>
<div class="highlight"><pre><span></span><code><span id="True-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="cm">/* Associates the specified value with the specified key in this map.</span>
</span><span id="True-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="cm">   Throws an IllegalArgumentException if the key is null. */</span>
</span><span id="True-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;can&#39;t add null&quot;</span><span class="p">);</span>
</span><span id="True-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">contains</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="True-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="w">    </span><span class="n">items</span><span class="o">[</span><span class="n">size</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
</span><span id="True-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="w">    </span><span class="n">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-41-12"><a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="112_iterator">11.2 Iterator<a class="headerlink" href="#112_iterator" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><code>enhanced loop</code> 可见 <strong><a href="#Lec1.2.4"><code>Lec1.2.4</code></a></strong></p>
<div class="highlight"><pre><span></span><code><span id="True-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;&gt;</span><span class="p">();</span>
</span><span id="True-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="p">...</span>
</span><span id="True-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">city</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">    </span><span class="p">...</span>
</span><span id="True-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="p">}</span>
</span></code></pre></div>
<p>可转换为：</p>
<div class="highlight"><pre><span></span><code><span id="True-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;&gt;</span><span class="p">();</span>
</span><span id="True-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="p">...</span>
</span><span id="True-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">seer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span>
</span><span id="True-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">seer</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">city</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">seer</span><span class="p">.</span><span class="na">next</span><span class="p">();</span>
</span><span id="True-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">    </span><span class="p">...</span>
</span><span id="True-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>迭代器的实现</p>
</li>
<li>
<p>接口：</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasNext</span><span class="p">();</span>
</span><span id="True-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="nf">next</span><span class="p">();</span>
</span><span id="True-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="p">}</span>
</span><span id="True-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>
</span><span id="True-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Iterable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="w">    </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">iterator</span><span class="p">();</span>
</span><span id="True-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="p">}</span>
</span><span id="True-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a>
</span><span id="True-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">{</span>
</span><span id="True-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="w">    </span><span class="p">...</span>
</span><span id="True-44-12"><a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a><span class="p">}</span>
</span></code></pre></div>
<div class="highlight"><pre><span></span><code><span id="True-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="cm">/* 嵌套在ArraySet类的内部 */</span>
</span><span id="True-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="kd">private</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArraySetIterator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">wizPos</span><span class="p">;</span>
</span><span id="True-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="w">    </span><span class="cm">/* 构造函数 */</span>
</span><span id="True-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ArraySetIterator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="w">        </span><span class="n">wizPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="True-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="w">    </span><span class="cm">/* 检查 */</span>
</span><span id="True-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasNext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-45-10"><a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">wizPos</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
</span><span id="True-45-11"><a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-45-12"><a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a>
</span><span id="True-45-13"><a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">next</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-45-14"><a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a><span class="w">        </span><span class="n">T</span><span class="w"> </span><span class="n">returnItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">items</span><span class="o">[</span><span class="n">wizPos</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-45-15"><a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a><span class="w">        </span><span class="n">wizPos</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-45-16"><a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">returnItem</span><span class="p">;</span>
</span><span id="True-45-17"><a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-45-18"><a id="__codelineno-45-18" name="__codelineno-45-18" href="#__codelineno-45-18"></a><span class="p">}</span>
</span><span id="True-45-19"><a id="__codelineno-45-19" name="__codelineno-45-19" href="#__codelineno-45-19"></a><span class="cm">/* 实现Iratable接口，从而让ArraySet类能使用增强for循环 */</span>
</span><span id="True-45-20"><a id="__codelineno-45-20" name="__codelineno-45-20" href="#__codelineno-45-20"></a><span class="kd">public</span><span class="w"> </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">iterator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-45-21"><a id="__codelineno-45-21" name="__codelineno-45-21" href="#__codelineno-45-21"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArraySetIterator</span><span class="p">();</span>
</span><span id="True-45-22"><a id="__codelineno-45-22" name="__codelineno-45-22" href="#__codelineno-45-22"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li>
<p>完整实现：</p>
<div class="highlight"><pre><span></span><code><span id="True-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Iterator</span><span class="p">;</span>
</span><span id="True-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>
</span><span id="True-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArraySet</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">T</span><span class="o">[]</span><span class="w"> </span><span class="n">items</span><span class="p">;</span>
</span><span id="True-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span>
</span><span id="True-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="w">    </span><span class="c1">// the next item to be added will be at position size</span>
</span><span id="True-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a>
</span><span id="True-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ArraySet</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-9"><a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="w">        </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="o">[]</span><span class="p">)</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Object</span><span class="o">[</span><span class="mi">100</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-46-10"><a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="w">        </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="True-46-11"><a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-46-12"><a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a>
</span><span id="True-46-13"><a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a><span class="w">    </span><span class="cm">/* Returns true if this map contains a mapping for the specified key. */</span>
</span><span id="True-46-14"><a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">contains</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-15"><a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-16"><a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">items</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-17"><a id="__codelineno-46-17" name="__codelineno-46-17" href="#__codelineno-46-17"></a><span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="True-46-18"><a id="__codelineno-46-18" name="__codelineno-46-18" href="#__codelineno-46-18"></a><span class="w">            </span><span class="p">}</span>
</span><span id="True-46-19"><a id="__codelineno-46-19" name="__codelineno-46-19" href="#__codelineno-46-19"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-46-20"><a id="__codelineno-46-20" name="__codelineno-46-20" href="#__codelineno-46-20"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="True-46-21"><a id="__codelineno-46-21" name="__codelineno-46-21" href="#__codelineno-46-21"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-46-22"><a id="__codelineno-46-22" name="__codelineno-46-22" href="#__codelineno-46-22"></a>
</span><span id="True-46-23"><a id="__codelineno-46-23" name="__codelineno-46-23" href="#__codelineno-46-23"></a><span class="w">    </span><span class="cm">/* Associates the specified value with the specified key in this map.</span>
</span><span id="True-46-24"><a id="__codelineno-46-24" name="__codelineno-46-24" href="#__codelineno-46-24"></a><span class="cm">    Throws an IllegalArgumentException if the key is null. */</span>
</span><span id="True-46-25"><a id="__codelineno-46-25" name="__codelineno-46-25" href="#__codelineno-46-25"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-26"><a id="__codelineno-46-26" name="__codelineno-46-26" href="#__codelineno-46-26"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-27"><a id="__codelineno-46-27" name="__codelineno-46-27" href="#__codelineno-46-27"></a><span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;can&#39;t add null&quot;</span><span class="p">);</span>
</span><span id="True-46-28"><a id="__codelineno-46-28" name="__codelineno-46-28" href="#__codelineno-46-28"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-46-29"><a id="__codelineno-46-29" name="__codelineno-46-29" href="#__codelineno-46-29"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">contains</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-30"><a id="__codelineno-46-30" name="__codelineno-46-30" href="#__codelineno-46-30"></a><span class="w">            </span><span class="k">return</span><span class="p">;</span>
</span><span id="True-46-31"><a id="__codelineno-46-31" name="__codelineno-46-31" href="#__codelineno-46-31"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-46-32"><a id="__codelineno-46-32" name="__codelineno-46-32" href="#__codelineno-46-32"></a><span class="w">        </span><span class="n">items</span><span class="o">[</span><span class="n">size</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
</span><span id="True-46-33"><a id="__codelineno-46-33" name="__codelineno-46-33" href="#__codelineno-46-33"></a><span class="w">        </span><span class="n">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-46-34"><a id="__codelineno-46-34" name="__codelineno-46-34" href="#__codelineno-46-34"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-46-35"><a id="__codelineno-46-35" name="__codelineno-46-35" href="#__codelineno-46-35"></a>
</span><span id="True-46-36"><a id="__codelineno-46-36" name="__codelineno-46-36" href="#__codelineno-46-36"></a><span class="w">    </span><span class="cm">/* Returns the number of key-value mappings in this map. */</span>
</span><span id="True-46-37"><a id="__codelineno-46-37" name="__codelineno-46-37" href="#__codelineno-46-37"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">size</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-38"><a id="__codelineno-46-38" name="__codelineno-46-38" href="#__codelineno-46-38"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
</span><span id="True-46-39"><a id="__codelineno-46-39" name="__codelineno-46-39" href="#__codelineno-46-39"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-46-40"><a id="__codelineno-46-40" name="__codelineno-46-40" href="#__codelineno-46-40"></a>
</span><span id="True-46-41"><a id="__codelineno-46-41" name="__codelineno-46-41" href="#__codelineno-46-41"></a><span class="w">    </span><span class="cm">/** returns an iterator (a.k.a. seer) into ME */</span>
</span><span id="True-46-42"><a id="__codelineno-46-42" name="__codelineno-46-42" href="#__codelineno-46-42"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">iterator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-43"><a id="__codelineno-46-43" name="__codelineno-46-43" href="#__codelineno-46-43"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArraySetIterator</span><span class="p">();</span>
</span><span id="True-46-44"><a id="__codelineno-46-44" name="__codelineno-46-44" href="#__codelineno-46-44"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-46-45"><a id="__codelineno-46-45" name="__codelineno-46-45" href="#__codelineno-46-45"></a>
</span><span id="True-46-46"><a id="__codelineno-46-46" name="__codelineno-46-46" href="#__codelineno-46-46"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArraySetIterator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-47"><a id="__codelineno-46-47" name="__codelineno-46-47" href="#__codelineno-46-47"></a><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">wizPos</span><span class="p">;</span>
</span><span id="True-46-48"><a id="__codelineno-46-48" name="__codelineno-46-48" href="#__codelineno-46-48"></a>
</span><span id="True-46-49"><a id="__codelineno-46-49" name="__codelineno-46-49" href="#__codelineno-46-49"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">ArraySetIterator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-50"><a id="__codelineno-46-50" name="__codelineno-46-50" href="#__codelineno-46-50"></a><span class="w">            </span><span class="n">wizPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="True-46-51"><a id="__codelineno-46-51" name="__codelineno-46-51" href="#__codelineno-46-51"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-46-52"><a id="__codelineno-46-52" name="__codelineno-46-52" href="#__codelineno-46-52"></a>
</span><span id="True-46-53"><a id="__codelineno-46-53" name="__codelineno-46-53" href="#__codelineno-46-53"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasNext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-54"><a id="__codelineno-46-54" name="__codelineno-46-54" href="#__codelineno-46-54"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">wizPos</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
</span><span id="True-46-55"><a id="__codelineno-46-55" name="__codelineno-46-55" href="#__codelineno-46-55"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-46-56"><a id="__codelineno-46-56" name="__codelineno-46-56" href="#__codelineno-46-56"></a>
</span><span id="True-46-57"><a id="__codelineno-46-57" name="__codelineno-46-57" href="#__codelineno-46-57"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">next</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-58"><a id="__codelineno-46-58" name="__codelineno-46-58" href="#__codelineno-46-58"></a><span class="w">            </span><span class="n">T</span><span class="w"> </span><span class="n">returnItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">items</span><span class="o">[</span><span class="n">wizPos</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-46-59"><a id="__codelineno-46-59" name="__codelineno-46-59" href="#__codelineno-46-59"></a><span class="w">            </span><span class="n">wizPos</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-46-60"><a id="__codelineno-46-60" name="__codelineno-46-60" href="#__codelineno-46-60"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">returnItem</span><span class="p">;</span>
</span><span id="True-46-61"><a id="__codelineno-46-61" name="__codelineno-46-61" href="#__codelineno-46-61"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-46-62"><a id="__codelineno-46-62" name="__codelineno-46-62" href="#__codelineno-46-62"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-46-63"><a id="__codelineno-46-63" name="__codelineno-46-63" href="#__codelineno-46-63"></a>
</span><span id="True-46-64"><a id="__codelineno-46-64" name="__codelineno-46-64" href="#__codelineno-46-64"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-65"><a id="__codelineno-46-65" name="__codelineno-46-65" href="#__codelineno-46-65"></a><span class="w">        </span><span class="n">ArraySet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">aset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArraySet</span><span class="o">&lt;&gt;</span><span class="p">();</span>
</span><span id="True-46-66"><a id="__codelineno-46-66" name="__codelineno-46-66" href="#__codelineno-46-66"></a><span class="w">        </span><span class="n">aset</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span><span id="True-46-67"><a id="__codelineno-46-67" name="__codelineno-46-67" href="#__codelineno-46-67"></a><span class="w">        </span><span class="n">aset</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
</span><span id="True-46-68"><a id="__codelineno-46-68" name="__codelineno-46-68" href="#__codelineno-46-68"></a><span class="w">        </span><span class="n">aset</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
</span><span id="True-46-69"><a id="__codelineno-46-69" name="__codelineno-46-69" href="#__codelineno-46-69"></a>
</span><span id="True-46-70"><a id="__codelineno-46-70" name="__codelineno-46-70" href="#__codelineno-46-70"></a><span class="w">        </span><span class="c1">//iteration</span>
</span><span id="True-46-71"><a id="__codelineno-46-71" name="__codelineno-46-71" href="#__codelineno-46-71"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">aset</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-46-72"><a id="__codelineno-46-72" name="__codelineno-46-72" href="#__codelineno-46-72"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</span><span id="True-46-73"><a id="__codelineno-46-73" name="__codelineno-46-73" href="#__codelineno-46-73"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-46-74"><a id="__codelineno-46-74" name="__codelineno-46-74" href="#__codelineno-46-74"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-46-75"><a id="__codelineno-46-75" name="__codelineno-46-75" href="#__codelineno-46-75"></a><span class="p">}</span>
</span></code></pre></div>
</li>
</ol>
<h4 id="113_object_methods">11.3 Object Methods<a class="headerlink" href="#113_object_methods" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>所有的类都从最顶层的<code>Object</code>类继承了若干方法</p>
</li>
<li>
<p><code>String toString()</code></p>
</li>
<li><code>boolean equals(Object obj)</code></li>
<li><code>Class&lt;?&gt; getClass()</code></li>
<li><code>int hashCode()</code></li>
<li><code>protected Object clone()</code></li>
<li><code>protected void finalize()</code></li>
<li><code>void notify()</code></li>
<li><code>void notifyAll()</code></li>
<li><code>void wait()</code></li>
<li><code>void wait(long timeout)</code></li>
<li>
<p><code>void wait(long timeout, int nanos)</code></p>
</li>
<li>
<p>为ArraySet类重写<code>toString</code>方法：</p>
</li>
<li>
<p>如果直接使用<code>+</code>，会每次都会创建一个新的字符串对象，非常低效</p>
</li>
<li>
<p><code>StringBuilder</code>创建一个可变的字符串对象</p>
<div class="highlight"><pre><span></span><code><span id="True-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="w">    </span><span class="n">StringBuilder</span><span class="w"> </span><span class="n">returnSB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuilder</span><span class="p">(</span><span class="s">&quot;{&quot;</span><span class="p">);</span>
</span><span id="True-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">        </span><span class="n">returnSB</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">items</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="na">toString</span><span class="p">());</span>
</span><span id="True-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">        </span><span class="n">returnSB</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">);</span>
</span><span id="True-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">    </span><span class="n">returnSB</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">items</span><span class="o">[</span><span class="n">size</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">]</span><span class="p">);</span>
</span><span id="True-47-8"><a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">    </span><span class="n">returnSB</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;}&quot;</span><span class="p">);</span>
</span><span id="True-47-9"><a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">returnSB</span><span class="p">.</span><span class="na">toString</span><span class="p">();</span>
</span><span id="True-47-10"><a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>重写<code>equals</code>方法：</p>
</li>
<li>
<p><code>equals</code>与<code>==</code>具有不同的行为</p>
</li>
<li><code>==</code>检查两个盒子是否包含相同的内容。对于基本类型，这意味着检查值是否相等。对于对象，这意味着检查地址/指针是否相等</li>
<li><code>equals(Object o)</code>默认情况下，类似于<code>==</code>，检查<code>this</code>的内存地址是否与<code>o</code>相同</li>
<li>
<p>重写后版本：</p>
<div class="highlight"><pre><span></span><code><span id="True-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">equals</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 避免额外工作</span>
</span><span id="True-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="True-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">other</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 避免异常</span>
</span><span id="True-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="True-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="na">getClass</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getClass</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// 避免异常</span>
</span><span id="True-48-10"><a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-48-11"><a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="w">    </span><span class="n">ArraySet</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">ArraySet</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">other</span><span class="p">;</span>
</span><span id="True-48-12"><a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">o</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">size</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-48-13"><a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="True-48-14"><a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-48-15"><a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">this</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-48-16"><a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">o</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="n">item</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-48-17"><a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="True-48-18"><a id="__codelineno-48-18" name="__codelineno-48-18" href="#__codelineno-48-18"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-48-19"><a id="__codelineno-48-19" name="__codelineno-48-19" href="#__codelineno-48-19"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-48-20"><a id="__codelineno-48-20" name="__codelineno-48-20" href="#__codelineno-48-20"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="True-48-21"><a id="__codelineno-48-21" name="__codelineno-48-21" href="#__codelineno-48-21"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>实现<code>equals</code>需要遵守的规则</p>
</li>
<li>
<p><code>equals</code>必须是等价关系</p>
<ul>
<li>自反性：<code>x.equals(x)</code>为<code>true</code></li>
<li>对称性：如果<code>x.equals(y)</code>，则<code>y.equals(x)</code>也为<code>true</code></li>
<li>传递性：如果<code>x.equals(y)</code>和<code>y.equals(z)</code>，则<code>x.equals(z)</code>也为<code>true</code></li>
</ul>
</li>
<li><strong>它必须接受一个<code>Object</code>参数，以便覆盖原始的<code>.equals()</code>方法</strong></li>
<li>如果<code>x.equals(y)</code>，那么只要<code>x</code>和<code>y</code>保持不变：<code>x</code>必须继续等于<code>y</code></li>
<li>对于<code>null</code>，它永远不为<code>true</code>，<code>x.equals(null)</code>必须为<code>false</code></li>
</ol>
<h3 id="lec13_introduction_to_asymptotic_analysis">Lec.13 Introduction to Asymptotic Analysis <br>渐进性分析<a class="headerlink" href="#lec13_introduction_to_asymptotic_analysis" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>衡量代码效率 <code>Measuring Code Efficiency</code></p>
</li>
<li>
<p>编程成本<code>Programming cost</code>：开发时间以及代码的可读性、可维护性</p>
</li>
<li>
<p>执行成本<code>Programming cost</code>：程序的执行时间和内存需求</p>
</li>
<li>
<p>渐进分析 <code>Asymptotic Analysis</code>:</p>
</li>
<li>
<p>(只)考虑最坏情况<code>care only about the worst case</code></p>
</li>
<li>忽略低阶项<code>Ignore lower order terms</code></li>
<li>忽略乘法常数<code>Ignore any coefficients</code></li>
<li>
<p>认为所有操作耗时相等<code>All operations take the same time</code></p>
</li>
<li>
<p>渐进符号 <code>Asymptotic Notation</code></p>
<ol>
<li><strong>Big Theta (Θ)</strong>：表示函数的增长率</li>
<li><strong>N<sup>3</sup> + 3N<sup>4</sup> ∈ Θ(N<sup>4</sup>)</strong></li>
<li>这意味着存在两个正的常数<code>k1</code>和<code>k2</code>，使得对于足够大的<code>N</code>，下列不等式成立 (表示<code>R(N)</code>的增长率与<code>f(N)</code>相同):
   <strong><center> <code>k1 * f(N) ≤ R(N) ≤ k2 * f(N)</code> </center></strong></li>
<li><strong>Big O (Ο)</strong>：表示增长的上界</li>
<li>如果有一个函数<code>R(N)</code>的增长不超过<code>g(N)</code>，我们可以用<code>Big O</code>表示：</li>
<li><strong>R(N) ∈ O(g(N))</strong></li>
<li>存在一个正的常数<code>k2</code>，使得对于足够大的<code>N</code>，下列不等式成立：
   <strong><center> <code>R(N) ≤ k2 * g(N)</code> </center></strong></li>
<li><strong>Big Omega (Ω)</strong>：表示增长的下界</li>
<li>如果有一个函数<code>R(N)</code>的增长至少是<code>g(N)</code>，我们可以用<code>Big Omega</code>表示：</li>
<li><strong>N<sup>4</sup> ∈ Ω(N<sup>3</sup>)</strong></li>
<li>存在一个正的常数<code>k1</code>，使得对于足够大的<code>N</code>，下列不等式成立：
   <strong><center> <code>R(N) ≥ k1 * g(N)</code> </center></strong></li>
<li><strong>Big Theta (Θ)</strong> 的用途最为广泛，因为它提供了函数增长的准确速率。<strong>Big O (Ο)</strong> 用于最坏情况分析，而 <strong>Big Omega (Ω)</strong> 用于最好情况分析</li>
</ol>
</li>
</ol>
<h3 id="lec14_disjoin_sets">Lec.14  Disjoin Sets 不相交集/并查集<a class="headerlink" href="#lec14_disjoin_sets" title="Permanent link">&para;</a></h3>
<h4 id="141">14.1 基本操作<a class="headerlink" href="#141" title="Permanent link">&para;</a></h4>
<ul>
<li><code>connect(x, y)</code>：连接两个元素<code>x</code>和<code>y</code></li>
<li><code>isConnected(x, y)</code>：判断两个元素是否连接（直接或间接连接）</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">DisjointSets</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="w">    </span><span class="cm">/** 连接两个元素p和q */</span>
</span><span id="True-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
</span><span id="True-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a>
</span><span id="True-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="w">    </span><span class="cm">/** 判断两个元素是否连通 */</span>
</span><span id="True-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isConnected</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
</span><span id="True-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="142_through_list_of_set">14.2 Through List of Set<a class="headerlink" href="#142_through_list_of_set" title="Permanent link">&para;</a></h4>
<ol>
<li>通过<strong>整数集合的列表</strong>，e.g.<code>[{0, 1, 2, 4}, {3, 5}, {6}]</code>
<em>直观但是糟糕</em></li>
<li>缺点</li>
<li>所有的查找操作都需要遍历全部的集合</li>
<li>Overall runtime of <strong><code>Θ(N)</code></strong>.</li>
</ol>
<h4 id="143_quickfind">14.3 QuickFind 快速查找<a class="headerlink" href="#143_quickfind" title="Permanent link">&para;</a></h4>
<ol>
<li>使用一个<strong>数组<code>id</code></strong>，记录每一个元素所属的集合编号</li>
<li>Performance</li>
<li><code>isConnected(p, q)</code>：通过比较<code>id[p]</code>和<code>id[q]</code>是否相等实现，时间复杂度为<code>O(1)</code></li>
<li><code>connect(p, q)</code>：对整个<code>id</code>数组进行遍历，将所有等于<code>id[p]</code>的元素更新为<code>id[q]</code>，时间复杂度为<code>O(N)</code>，其中<code>N</code>为元素总数</li>
<li><code>QuickFind</code>方法简单但在处理<strong>大量连接操作时效率低下</strong></li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">QuickFindDS</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">DisjointSets</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用于存储每个元素所属的集合编号</span>
</span><span id="True-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a>
</span><span id="True-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="w">    </span><span class="cm">/* 构造函数，初始化N个元素，每个元素自己的集合编号等于自己的索引（初始有N个集合）*/</span>
</span><span id="True-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">QuickFindDS</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="w">        </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">N</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="w">            </span><span class="n">id</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
</span><span id="True-50-9"><a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-50-10"><a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-50-11"><a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a>
</span><span id="True-50-12"><a id="__codelineno-50-12" name="__codelineno-50-12" href="#__codelineno-50-12"></a><span class="w">    </span><span class="cm">/* 通过比较集合编号判断是否在同一个集合中 */</span>
</span><span id="True-50-13"><a id="__codelineno-50-13" name="__codelineno-50-13" href="#__codelineno-50-13"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isConnected</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-50-14"><a id="__codelineno-50-14" name="__codelineno-50-14" href="#__codelineno-50-14"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">id</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">id</span><span class="o">[</span><span class="n">q</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-50-15"><a id="__codelineno-50-15" name="__codelineno-50-15" href="#__codelineno-50-15"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-50-16"><a id="__codelineno-50-16" name="__codelineno-50-16" href="#__codelineno-50-16"></a>
</span><span id="True-50-17"><a id="__codelineno-50-17" name="__codelineno-50-17" href="#__codelineno-50-17"></a><span class="w">    </span><span class="c1">// 连接两个元素，将属于id[p]集合的所有元素更新为id[q]</span>
</span><span id="True-50-18"><a id="__codelineno-50-18" name="__codelineno-50-18" href="#__codelineno-50-18"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-50-19"><a id="__codelineno-50-19" name="__codelineno-50-19" href="#__codelineno-50-19"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// 获取p的集合编号</span>
</span><span id="True-50-20"><a id="__codelineno-50-20" name="__codelineno-50-20" href="#__codelineno-50-20"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">qid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id</span><span class="o">[</span><span class="n">q</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// 获取q的集合编号</span>
</span><span id="True-50-21"><a id="__codelineno-50-21" name="__codelineno-50-21" href="#__codelineno-50-21"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">id</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-50-22"><a id="__codelineno-50-22" name="__codelineno-50-22" href="#__codelineno-50-22"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">pid</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-50-23"><a id="__codelineno-50-23" name="__codelineno-50-23" href="#__codelineno-50-23"></a><span class="w">                </span><span class="n">id</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">qid</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将属于id[p]集合的元素更新为id[q]</span>
</span><span id="True-50-24"><a id="__codelineno-50-24" name="__codelineno-50-24" href="#__codelineno-50-24"></a><span class="w">            </span><span class="p">}</span>
</span><span id="True-50-25"><a id="__codelineno-50-25" name="__codelineno-50-25" href="#__codelineno-50-25"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-50-26"><a id="__codelineno-50-26" name="__codelineno-50-26" href="#__codelineno-50-26"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-50-27"><a id="__codelineno-50-27" name="__codelineno-50-27" href="#__codelineno-50-27"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="144_quickunion">14.4 QuickUnion 快速连接<a class="headerlink" href="#144_quickunion" title="Permanent link">&para;</a></h4>
<ol>
<li><code>Quick Union</code>改进了<code>Quick Find</code>，通过使用<strong>树结构</strong>来表示集合，每个元素指向它的父节点<code>parent node</code></li>
<li>Performance：</li>
<li><code>isConnected(p, q)</code>：通过寻找根节点进行判断，时间复杂度为树高度<code>O(H)</code></li>
<li><code>connect(p, q)</code>：找到两个元素的根节点<code>root node</code>，将一个根节点连接到另一个根节点，时间复杂度为<code>O(H)</code></li>
<li><code>QuickUnion</code>在处理过程中可能导致<strong>树高度不断增加</strong>，从而<strong>影响查询和连接操作的效率</strong></li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">QuickUnionDS</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">DisjointSets</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用于存储每个元素的父节点</span>
</span><span id="True-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a>
</span><span id="True-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="w">    </span><span class="cm">/* 构造函数，初始化N个元素，每个元素的父节点是它自己 */</span>
</span><span id="True-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">QuickUnionDS</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-51-6"><a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="w">        </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">N</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-51-7"><a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-51-8"><a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="w">            </span><span class="n">parent</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
</span><span id="True-51-9"><a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-51-10"><a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-51-11"><a id="__codelineno-51-11" name="__codelineno-51-11" href="#__codelineno-51-11"></a>
</span><span id="True-51-12"><a id="__codelineno-51-12" name="__codelineno-51-12" href="#__codelineno-51-12"></a><span class="w">    </span><span class="cm">/* 查找元素p的根节点 */</span>
</span><span id="True-51-13"><a id="__codelineno-51-13" name="__codelineno-51-13" href="#__codelineno-51-13"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">find</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-51-14"><a id="__codelineno-51-14" name="__codelineno-51-14" href="#__codelineno-51-14"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">parent</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-51-15"><a id="__codelineno-51-15" name="__codelineno-51-15" href="#__codelineno-51-15"></a><span class="w">            </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// 不断向上找到根节点</span>
</span><span id="True-51-16"><a id="__codelineno-51-16" name="__codelineno-51-16" href="#__codelineno-51-16"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-51-17"><a id="__codelineno-51-17" name="__codelineno-51-17" href="#__codelineno-51-17"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>
</span><span id="True-51-18"><a id="__codelineno-51-18" name="__codelineno-51-18" href="#__codelineno-51-18"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-51-19"><a id="__codelineno-51-19" name="__codelineno-51-19" href="#__codelineno-51-19"></a>
</span><span id="True-51-20"><a id="__codelineno-51-20" name="__codelineno-51-20" href="#__codelineno-51-20"></a><span class="w">    </span><span class="cm">/* 判断两个元素是否在同一个集合中，通过查找它们的根节点 */</span>
</span><span id="True-51-21"><a id="__codelineno-51-21" name="__codelineno-51-21" href="#__codelineno-51-21"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isConnected</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-51-22"><a id="__codelineno-51-22" name="__codelineno-51-22" href="#__codelineno-51-22"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">q</span><span class="p">);</span>
</span><span id="True-51-23"><a id="__codelineno-51-23" name="__codelineno-51-23" href="#__codelineno-51-23"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-51-24"><a id="__codelineno-51-24" name="__codelineno-51-24" href="#__codelineno-51-24"></a>
</span><span id="True-51-25"><a id="__codelineno-51-25" name="__codelineno-51-25" href="#__codelineno-51-25"></a><span class="w">    </span><span class="cm">/* 连接两个元素，将p的根节点连接到q的根节点 */</span>
</span><span id="True-51-26"><a id="__codelineno-51-26" name="__codelineno-51-26" href="#__codelineno-51-26"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-51-27"><a id="__codelineno-51-27" name="__codelineno-51-27" href="#__codelineno-51-27"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">rootP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">p</span><span class="p">);</span><span class="w"> </span><span class="c1">// 查找p的根节点</span>
</span><span id="True-51-28"><a id="__codelineno-51-28" name="__codelineno-51-28" href="#__codelineno-51-28"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">rootQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">q</span><span class="p">);</span><span class="w"> </span><span class="c1">// 查找q的根节点</span>
</span><span id="True-51-29"><a id="__codelineno-51-29" name="__codelineno-51-29" href="#__codelineno-51-29"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rootP</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">rootQ</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-51-30"><a id="__codelineno-51-30" name="__codelineno-51-30" href="#__codelineno-51-30"></a><span class="w">            </span><span class="n">parent</span><span class="o">[</span><span class="n">rootP</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rootQ</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将p的根节点连接到q的根节点</span>
</span><span id="True-51-31"><a id="__codelineno-51-31" name="__codelineno-51-31" href="#__codelineno-51-31"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-51-32"><a id="__codelineno-51-32" name="__codelineno-51-32" href="#__codelineno-51-32"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-51-33"><a id="__codelineno-51-33" name="__codelineno-51-33" href="#__codelineno-51-33"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="145_weighted_quick_union_wqu">14.5 Weighted Quick Union (WQU) 加权快速合并<a class="headerlink" href="#145_weighted_quick_union_wqu" title="Permanent link">&para;</a></h4>
<ol>
<li>加权快速合并通过<strong>记录</strong>树的大小（即<strong>树中元素的数量</strong>）来选择根节点，从而避免树高度过高<ul>
<li>将较小树的根节点连接到较大树的根节点，从而优化数的高度，使树更加<strong>扁平化</strong></li>
</ul>
</li>
<li>相较于<code>QuickUnion</code>，其时间复杂度为<code>O(log N)</code></li>
<li>实际上，通过记录树的高度进行比较也能达到<strong>相同的效果(without improvement)</strong>，但是实现的代码<strong>更为复杂 (more complex)</strong></li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WeightedQuickUnionDS</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">DisjointSets</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用于存储每个元素的父节点</span>
</span><span id="True-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w">   </span><span class="c1">// 用于存储每个树的大小</span>
</span><span id="True-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>
</span><span id="True-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="w">    </span><span class="cm">/* 构造函数，初始化N个元素，每个元素的父节点是它自己，且大小为1 */</span>
</span><span id="True-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">WeightedQuickUnionDS</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="w">        </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">N</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-52-8"><a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a><span class="w">        </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">N</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-52-9"><a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-52-10"><a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a><span class="w">            </span><span class="n">parent</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
</span><span id="True-52-11"><a id="__codelineno-52-11" name="__codelineno-52-11" href="#__codelineno-52-11"></a><span class="w">            </span><span class="n">size</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-52-12"><a id="__codelineno-52-12" name="__codelineno-52-12" href="#__codelineno-52-12"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-52-13"><a id="__codelineno-52-13" name="__codelineno-52-13" href="#__codelineno-52-13"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-52-14"><a id="__codelineno-52-14" name="__codelineno-52-14" href="#__codelineno-52-14"></a>
</span><span id="True-52-15"><a id="__codelineno-52-15" name="__codelineno-52-15" href="#__codelineno-52-15"></a><span class="w">    </span><span class="cm">/* 查找元素p的根节点 */</span>
</span><span id="True-52-16"><a id="__codelineno-52-16" name="__codelineno-52-16" href="#__codelineno-52-16"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">find</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-52-17"><a id="__codelineno-52-17" name="__codelineno-52-17" href="#__codelineno-52-17"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">parent</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-52-18"><a id="__codelineno-52-18" name="__codelineno-52-18" href="#__codelineno-52-18"></a><span class="w">            </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// 不断向上找到根节点</span>
</span><span id="True-52-19"><a id="__codelineno-52-19" name="__codelineno-52-19" href="#__codelineno-52-19"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-52-20"><a id="__codelineno-52-20" name="__codelineno-52-20" href="#__codelineno-52-20"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>
</span><span id="True-52-21"><a id="__codelineno-52-21" name="__codelineno-52-21" href="#__codelineno-52-21"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-52-22"><a id="__codelineno-52-22" name="__codelineno-52-22" href="#__codelineno-52-22"></a>
</span><span id="True-52-23"><a id="__codelineno-52-23" name="__codelineno-52-23" href="#__codelineno-52-23"></a><span class="w">    </span><span class="cm">/* 判断两个元素是否在同一个集合中，通过查找它们的根节点 */</span>
</span><span id="True-52-24"><a id="__codelineno-52-24" name="__codelineno-52-24" href="#__codelineno-52-24"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isConnected</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-52-25"><a id="__codelineno-52-25" name="__codelineno-52-25" href="#__codelineno-52-25"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">q</span><span class="p">);</span>
</span><span id="True-52-26"><a id="__codelineno-52-26" name="__codelineno-52-26" href="#__codelineno-52-26"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-52-27"><a id="__codelineno-52-27" name="__codelineno-52-27" href="#__codelineno-52-27"></a>
</span><span id="True-52-28"><a id="__codelineno-52-28" name="__codelineno-52-28" href="#__codelineno-52-28"></a><span class="w">    </span><span class="cm">/* 连接两个元素，将较小的树连接到较大的树 */</span>
</span><span id="True-52-29"><a id="__codelineno-52-29" name="__codelineno-52-29" href="#__codelineno-52-29"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-52-30"><a id="__codelineno-52-30" name="__codelineno-52-30" href="#__codelineno-52-30"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">rootP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">p</span><span class="p">);</span><span class="w"> </span><span class="c1">// 查找p的根节点</span>
</span><span id="True-52-31"><a id="__codelineno-52-31" name="__codelineno-52-31" href="#__codelineno-52-31"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">rootQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">q</span><span class="p">);</span><span class="w"> </span><span class="c1">// 查找q的根节点</span>
</span><span id="True-52-32"><a id="__codelineno-52-32" name="__codelineno-52-32" href="#__codelineno-52-32"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rootP</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">rootQ</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-52-33"><a id="__codelineno-52-33" name="__codelineno-52-33" href="#__codelineno-52-33"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">size</span><span class="o">[</span><span class="n">rootP</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="o">[</span><span class="n">rootQ</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-52-34"><a id="__codelineno-52-34" name="__codelineno-52-34" href="#__codelineno-52-34"></a><span class="w">                </span><span class="n">parent</span><span class="o">[</span><span class="n">rootP</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rootQ</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将较小树的根节点连接到较大树的根节点</span>
</span><span id="True-52-35"><a id="__codelineno-52-35" name="__codelineno-52-35" href="#__codelineno-52-35"></a><span class="w">                </span><span class="n">size</span><span class="o">[</span><span class="n">rootQ</span><span class="o">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">size</span><span class="o">[</span><span class="n">rootP</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// 更新根节点q的大小</span>
</span><span id="True-52-36"><a id="__codelineno-52-36" name="__codelineno-52-36" href="#__codelineno-52-36"></a><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-52-37"><a id="__codelineno-52-37" name="__codelineno-52-37" href="#__codelineno-52-37"></a><span class="w">                </span><span class="n">parent</span><span class="o">[</span><span class="n">rootQ</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rootP</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将较小树的根节点连接到较大树的根节点</span>
</span><span id="True-52-38"><a id="__codelineno-52-38" name="__codelineno-52-38" href="#__codelineno-52-38"></a><span class="w">                </span><span class="n">size</span><span class="o">[</span><span class="n">rootP</span><span class="o">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">size</span><span class="o">[</span><span class="n">rootQ</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// 更新根节点p的大小</span>
</span><span id="True-52-39"><a id="__codelineno-52-39" name="__codelineno-52-39" href="#__codelineno-52-39"></a><span class="w">            </span><span class="p">}</span>
</span><span id="True-52-40"><a id="__codelineno-52-40" name="__codelineno-52-40" href="#__codelineno-52-40"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-52-41"><a id="__codelineno-52-41" name="__codelineno-52-41" href="#__codelineno-52-41"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-52-42"><a id="__codelineno-52-42" name="__codelineno-52-42" href="#__codelineno-52-42"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="146_weighted_quick_union_with_path_compression_wqupc">14.6 Weighted Quick Union with Path Compression (WQUPC)<a class="headerlink" href="#146_weighted_quick_union_with_path_compression_wqupc" title="Permanent link">&para;</a></h4>
<ol>
<li>路径压缩技术在<strong>每次查找</strong>操作中，将<strong>路径上的所有结点直接连接到根节点</strong>，从而优化树的高度，使树更加<strong>扁平化</strong></li>
<li>Performance</li>
<li>在进行大量<code>isConnected</code>和<code>connect</code>操作时，能够将时间复杂度优化为<strong>几乎常量</strong>级别</li>
<li>
<p>其均摊时间复杂度为<code>O(log* N)</code>，<code>log* N</code> 是<code>Iterated Log</code>，实际应用中，这个值非常小，<strong>通常不超过5</strong></p>
<p><sub><code>log* N</code>:不断进行<code>log</code>操作最后等于1的次数</sub></p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WQUDSWithPathCompression</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">DisjointSets</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用于存储每个元素的父节点</span>
</span><span id="True-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w">   </span><span class="c1">// 用于存储每个树的大小</span>
</span><span id="True-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a>
</span><span id="True-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">    </span><span class="cm">/* 构造函数，初始化N个元素，每个元素的父节点是它自己，且大小为1 */</span>
</span><span id="True-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">WQUDSWithPathCompression</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="w">        </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">N</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="w">        </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">N</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="w">            </span><span class="n">parent</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
</span><span id="True-53-11"><a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a><span class="w">            </span><span class="n">size</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-53-12"><a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-53-13"><a id="__codelineno-53-13" name="__codelineno-53-13" href="#__codelineno-53-13"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-53-14"><a id="__codelineno-53-14" name="__codelineno-53-14" href="#__codelineno-53-14"></a>
</span><span id="True-53-15"><a id="__codelineno-53-15" name="__codelineno-53-15" href="#__codelineno-53-15"></a><span class="w">    </span><span class="cm">/* 查找元素p的根节点，并使用路径压缩 */</span>
</span><span id="True-53-16"><a id="__codelineno-53-16" name="__codelineno-53-16" href="#__codelineno-53-16"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">find</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-53-17"><a id="__codelineno-53-17" name="__codelineno-53-17" href="#__codelineno-53-17"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">parent</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-53-18"><a id="__codelineno-53-18" name="__codelineno-53-18" href="#__codelineno-53-18"></a><span class="w">            </span><span class="n">parent</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">parent</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="p">);</span><span class="w"> </span><span class="c1">// 路径压缩，将p的父节点直接连接到根节点</span>
</span><span id="True-53-19"><a id="__codelineno-53-19" name="__codelineno-53-19" href="#__codelineno-53-19"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-53-20"><a id="__codelineno-53-20" name="__codelineno-53-20" href="#__codelineno-53-20"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">parent</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-53-21"><a id="__codelineno-53-21" name="__codelineno-53-21" href="#__codelineno-53-21"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-53-22"><a id="__codelineno-53-22" name="__codelineno-53-22" href="#__codelineno-53-22"></a>
</span><span id="True-53-23"><a id="__codelineno-53-23" name="__codelineno-53-23" href="#__codelineno-53-23"></a><span class="w">    </span><span class="cm">/* 判断两个元素是否在同一个集合中，通过查找它们的根节点 */</span>
</span><span id="True-53-24"><a id="__codelineno-53-24" name="__codelineno-53-24" href="#__codelineno-53-24"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isConnected</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-53-25"><a id="__codelineno-53-25" name="__codelineno-53-25" href="#__codelineno-53-25"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">q</span><span class="p">);</span>
</span><span id="True-53-26"><a id="__codelineno-53-26" name="__codelineno-53-26" href="#__codelineno-53-26"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-53-27"><a id="__codelineno-53-27" name="__codelineno-53-27" href="#__codelineno-53-27"></a>
</span><span id="True-53-28"><a id="__codelineno-53-28" name="__codelineno-53-28" href="#__codelineno-53-28"></a><span class="w">    </span><span class="cm">/* 连接两个元素，将较小的树连接到较大的树 */</span>
</span><span id="True-53-29"><a id="__codelineno-53-29" name="__codelineno-53-29" href="#__codelineno-53-29"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-53-30"><a id="__codelineno-53-30" name="__codelineno-53-30" href="#__codelineno-53-30"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">rootP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">p</span><span class="p">);</span><span class="w"> </span><span class="c1">// 查找p的根节点</span>
</span><span id="True-53-31"><a id="__codelineno-53-31" name="__codelineno-53-31" href="#__codelineno-53-31"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">rootQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">q</span><span class="p">);</span><span class="w"> </span><span class="c1">// 查找q的根节点</span>
</span><span id="True-53-32"><a id="__codelineno-53-32" name="__codelineno-53-32" href="#__codelineno-53-32"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rootP</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">rootQ</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-53-33"><a id="__codelineno-53-33" name="__codelineno-53-33" href="#__codelineno-53-33"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">size</span><span class="o">[</span><span class="n">rootP</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="o">[</span><span class="n">rootQ</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-53-34"><a id="__codelineno-53-34" name="__codelineno-53-34" href="#__codelineno-53-34"></a><span class="w">                </span><span class="n">parent</span><span class="o">[</span><span class="n">rootP</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rootQ</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将较小树的根节点连接到较大树的根节点</span>
</span><span id="True-53-35"><a id="__codelineno-53-35" name="__codelineno-53-35" href="#__codelineno-53-35"></a><span class="w">                </span><span class="n">size</span><span class="o">[</span><span class="n">rootQ</span><span class="o">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">size</span><span class="o">[</span><span class="n">rootP</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// 更新根节点q的大小</span>
</span><span id="True-53-36"><a id="__codelineno-53-36" name="__codelineno-53-36" href="#__codelineno-53-36"></a><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-53-37"><a id="__codelineno-53-37" name="__codelineno-53-37" href="#__codelineno-53-37"></a><span class="w">                </span><span class="n">parent</span><span class="o">[</span><span class="n">rootQ</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rootP</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将较小树的根节点连接到较大树的根节点</span>
</span><span id="True-53-38"><a id="__codelineno-53-38" name="__codelineno-53-38" href="#__codelineno-53-38"></a><span class="w">                </span><span class="n">size</span><span class="o">[</span><span class="n">rootP</span><span class="o">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">size</span><span class="o">[</span><span class="n">rootQ</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// 更新根节点p的大小</span>
</span><span id="True-53-39"><a id="__codelineno-53-39" name="__codelineno-53-39" href="#__codelineno-53-39"></a><span class="w">            </span><span class="p">}</span>
</span><span id="True-53-40"><a id="__codelineno-53-40" name="__codelineno-53-40" href="#__codelineno-53-40"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-53-41"><a id="__codelineno-53-41" name="__codelineno-53-41" href="#__codelineno-53-41"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-53-42"><a id="__codelineno-53-42" name="__codelineno-53-42" href="#__codelineno-53-42"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="147">14.7 总体运行时间比较<a class="headerlink" href="#147" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Implementation</th>
<th>Runtime</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ListOfSetsDS</code></td>
<td><code>O(NM)</code></td>
</tr>
<tr>
<td><code>QuickFindDS</code></td>
<td><code>Θ(NM)</code></td>
</tr>
<tr>
<td><code>QuickUnionDS</code></td>
<td><code>O(NM)</code></td>
</tr>
<tr>
<td><code>WeightedQuickUnionDS</code></td>
<td><code>O(M log N)</code></td>
</tr>
<tr>
<td><code>WQUDSWithPathCompression</code></td>
<td><code>O(M α(N))</code></td>
</tr>
</tbody>
</table>
<h3 id="lec15_asymptotics_ii">Lec.15 Asymptotics II 一些函数的渐进性分析<a class="headerlink" href="#lec15_asymptotics_ii" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><code>For</code> Loop</p>
<div class="highlight"><pre><span></span><code><span id="True-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printParty</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span>
</span><span id="True-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">ZUG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-54-8"><a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><code>C(N) = 1 + 2 + 4+ ... + N</code> 如果<code>N</code>是<code>2</code>的幂</li>
<li>如图：<strong><code>R(N) = Θ(1 + 2 + 4 + 8 + … + N) = Θ(N)</code></strong>
<img alt="alt text" src="../Insertgraph/image-1.png" /></li>
</ul>
</li>
<li>
<p><code>Recursion</code></p>
<div class="highlight"><pre><span></span><code><span id="True-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">f3</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span>
</span><span id="True-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">f3</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">f3</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</span><span id="True-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>C(N) = 1 + 2 + 4 + ... + 2<sup>N-1</sup> = 2<sup>N</sup> - 1</li>
<li><strong>R(N) = Θ(2<sup>N</sup>)</strong></li>
</ul>
</li>
<li>
<p><code>Binary Search</code></p>
<ul>
<li><strong>R(N) = Θ(log<sub>2</sub>N) = Θ(log N)</strong></li>
</ul>
</li>
<li>
<p>合并已排序的数组</p>
</li>
<li>
<p><strong>R(N) = Θ(N)</strong></p>
</li>
<li>
<p><code>Mergesort</code> 归并排序</p>
<ul>
<li>如果列表大小为 1，返回。否则：</li>
<li>对左半部分进行归并排序</li>
<li>对右半部分进行归并排序</li>
<li>合并结果</li>
<li>分治的层数 <strong>k = log<sub>2</sub>N</strong></li>
<li>每层进行合并操作的次数都为 <strong>N</strong></li>
<li><strong>R(N) = Θ(Nlog(N))</strong></li>
</ul>
</li>
</ol>
<h3 id="lec16_adts_sets_maps_bsts">Lec.16 ADTs, Sets, Maps, BSTs<a class="headerlink" href="#lec16_adts_sets_maps_bsts" title="Permanent link">&para;</a></h3>
<h4 id="161_adts">16.1 <code>ADTs</code> 抽象数据类型<a class="headerlink" href="#161_adts" title="Permanent link">&para;</a></h4>
<ol>
<li><code>Abstract Data Type</code>: 由其操作<code>Operations</code>定义，而不是由其实现方式<code>Implementation</code>定义<ul>
<li><code>ArrayDeque</code>和 <code>LinkedListDeque</code>具有相同的方法，但实现方式大相径庭，因此说 <code>ArrayDeque</code> 和 <code>LinkedListDeque</code> 是 <code>Deque ADT</code>的<strong>实现</strong> <em>(inherit from the <code>Deque</code> interface)</em></li>
</ul>
</li>
<li>常见的抽象数据结构：<ul>
<li>栈 <strong><code>stack</code></strong>：支持后进先出检索元素的结构<ul>
<li><code>push(int x)</code>：将 <code>x</code> 放在栈顶</li>
<li><code>int pop()</code>：取出栈顶元素</li>
</ul>
</li>
<li>列表 <strong><code>list</code></strong>：有序元素集合<ul>
<li><code>add(int i)</code>：添加元素</li>
<li><code>int get(int i)</code>：获取索引 <code>i</code> 处的元素</li>
</ul>
</li>
<li>集合 <strong><code>set</code></strong>：无序唯一元素集合（不重复）<ul>
<li><code>add(int i)</code>：添加元素</li>
<li><code>contains(int i)</code>：返回集合是否包含该值的布尔值</li>
</ul>
</li>
<li>映射 <strong><code>map</code></strong>：键/值对集合<ul>
<li><code>put(K key, V value)</code>：将键值对放入映射中</li>
<li><code>V get(K key)</code>：获取与键对应的值</li>
</ul>
</li>
<li><strong>Notes</strong>：加粗的 <code>ADT</code> 是一个更大的总体接口 <code>Collections</code> 的子接口
<img alt="alt text" src="../Insertgraph/image-2.png" />
<strong>接口和类之间的关系，接口是白色，类是蓝色</strong></li>
</ul>
</li>
</ol>
<h4 id="162_binary_search_tree">16.2 <code>Binary Search Tree</code> 二叉搜索树<a class="headerlink" href="#162_binary_search_tree" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>树的定义：树由节点和连接这些节点的边组成</p>
<ul>
<li>Constraints：<strong>任何两个节点之间只有一条路径</strong></li>
<li>根节点<code>root node</code>：没有父节点的节点</li>
<li>叶节点<code>leaf node</code>：没有子节点的节点</li>
</ul>
</li>
<li>
<ul>
<li>二叉树：在树的基础上，每个节点只能有0、1或2个子节点 <strong>(binary property constraint)</strong></li>
</ul>
</li>
<li>
<p>二叉搜索树：在二叉树的基础上，对于树中的每个节点 <code>X</code>：
        - 左子树 <strong>(subtree)</strong> 中的每个键都小于<code>X</code>的键
        - 右子树中的每个键都大于<code>X</code>的键</p>
<div class="highlight"><pre><span></span><code><span id="True-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="kd">private</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BST</span><span class="o">&lt;</span><span class="n">Key</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Key</span><span class="w"> </span><span class="n">key</span><span class="p">;</span>
</span><span id="True-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BST</span><span class="w"> </span><span class="n">left</span><span class="p">;</span>
</span><span id="True-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BST</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
</span><span id="True-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a>
</span><span id="True-56-6"><a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">BST</span><span class="p">(</span><span class="n">Key</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">BST</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">BST</span><span class="w"> </span><span class="n">right</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-56-7"><a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">key</span><span class="p">;</span>
</span><span id="True-56-8"><a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">left</span><span class="p">;</span>
</span><span id="True-56-9"><a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
</span><span id="True-56-10"><a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-56-11"><a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a>
</span><span id="True-56-12"><a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">BST</span><span class="p">(</span><span class="n">Key</span><span class="w"> </span><span class="n">key</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-56-13"><a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">key</span><span class="p">;</span>
</span><span id="True-56-14"><a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-56-15"><a id="__codelineno-56-15" name="__codelineno-56-15" href="#__codelineno-56-15"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>搜索<code>Search</code></p>
<div class="highlight"><pre><span></span><code><span id="True-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="kd">static</span><span class="w"> </span><span class="n">BST</span><span class="w"> </span><span class="nf">find</span><span class="p">(</span><span class="n">BST</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">Key</span><span class="w"> </span><span class="n">sk</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
</span><span id="True-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="True-57-4"><a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sk</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">T</span><span class="p">.</span><span class="na">key</span><span class="p">))</span>
</span><span id="True-57-5"><a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
</span><span id="True-57-6"><a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sk</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="na">key</span><span class="p">)</span>
</span><span id="True-57-7"><a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">T</span><span class="p">.</span><span class="na">left</span><span class="p">,</span><span class="w"> </span><span class="n">sk</span><span class="p">);</span>
</span><span id="True-57-8"><a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a><span class="k">else</span>
</span><span id="True-57-9"><a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">T</span><span class="p">.</span><span class="na">right</span><span class="p">,</span><span class="w"> </span><span class="n">sk</span><span class="p">);</span>
</span><span id="True-57-10"><a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>如果<code>X</code>大于根节点，我们继续移动到根的右子节点，反之，移动到根的左子节点</li>
<li>递归地重复此过程，直到</li>
<li>找到项目</li>
<li>到达叶子节点<strong>在这种情况下，树不包含该项目</strong></li>
<li>查找操作将以<code>log n</code>时间运行，因为树的高度是<code>log n</code></li>
</ul>
</li>
<li>
<p>插入<code>Insert</code></p>
<div class="highlight"><pre><span></span><code><span id="True-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="kd">static</span><span class="w"> </span><span class="n">BST</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="n">BST</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">Key</span><span class="w"> </span><span class="n">ik</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
</span><span id="True-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BST</span><span class="p">(</span><span class="n">ik</span><span class="p">);</span>
</span><span id="True-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ik</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="na">key</span><span class="p">)</span>
</span><span id="True-58-5"><a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">    </span><span class="n">T</span><span class="p">.</span><span class="na">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">insert</span><span class="p">(</span><span class="n">T</span><span class="p">.</span><span class="na">left</span><span class="p">,</span><span class="w"> </span><span class="n">ik</span><span class="p">);</span>
</span><span id="True-58-6"><a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ik</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="na">key</span><span class="p">)</span>
</span><span id="True-58-7"><a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a><span class="w">    </span><span class="n">T</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">insert</span><span class="p">(</span><span class="n">T</span><span class="p">.</span><span class="na">right</span><span class="p">,</span><span class="w"> </span><span class="n">ik</span><span class="p">);</span>
</span><span id="True-58-8"><a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
</span><span id="True-58-9"><a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>首先在树中搜索节点。</li>
<li>如果找到，<strong>do nothing</strong></li>
<li>如果没找到，此时已经位于叶节点了，在叶节点的左侧或右侧添加新元素，同时保持<code>BST</code>的属性</li>
</ul>
</li>
<li>
<p>删除<code>Delete</code></p>
<ul>
<li>
<p>可能的情况</p>
<ul>
<li>无子节点</li>
<li>有一个子节点</li>
<li>有两个子节点</li>
</ul>
</li>
<li>
<p>无子节点
<strong>只删除其父指针</strong>，节点最终将被垃圾收集器清除</p>
</li>
<li>
<p>一个子节点
<strong>只重新分配父的子指针到节点的子节点</strong>，节点最终将被垃圾收集。</p>
</li>
<li>
<p>两个子节点</p>
<ul>
<li>分析：新节点必须：<ul>
<li>比左子树中的所有内容都要大</li>
<li>比右子树中的所有内容都要小
<img alt="alt text" src="../Insertgraph/image-3.png" /></li>
</ul>
</li>
<li>上图中，假设要删除的是<code>dog</code>节点，那么左子树中的<code>cat</code>节点 <strong>(左子树的最右节点)</strong> 和右子树的 <code>elf</code> 节点 <strong>(右子树的最左节点)</strong> 满足要求</li>
<li>因此用<code>cat</code>或<code>elf</code>替换<code>dog</code>节点，然后删除旧的<code>cat</code>或<code>elf</code>节点</li>
<li>这种方法被称为<code>Hibbard deletion</code></li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="lec17_b-trees">Lec.17 B-Trees<a class="headerlink" href="#lec17_b-trees" title="Permanent link">&para;</a></h3>
<h4 id="171_bst">17.1 <code>BST</code>二叉搜索树的缺点<a class="headerlink" href="#171_bst" title="Permanent link">&para;</a></h4>
<ul>
<li>在最好情况下，树的高度是 <strong><code>Θ(log⁡𝑁)</code></strong></li>
<li>在最坏情况下，树的高度是 <strong><code>Θ(𝑁)</code></strong>，此时<code>BST</code>退化成了一个链表</li>
</ul>
<h4 id="172_b">17.2 B树的使用<a class="headerlink" href="#172_b" title="Permanent link">&para;</a></h4>
<ul>
<li>通过根节点的分割，每一个节点都被推向下一个深度</li>
<li>内部节点以及叶节点自身的分割则不会引起深度的变化</li>
<li>通过设置一个常数<strong>L</strong>来约束每个节点中最多包含的项目数量</li>
<li>每个节点限制为3个项目的B树也称为2-3-4树或2-4树(一个节点可以有2、3或4个子节点)</li>
<li>设置每个节点2个项目的B树是2-3树</li>
</ul>
<h4 id="173_b">17.3 B树的不变量<a class="headerlink" href="#173_b" title="Permanent link">&para;</a></h4>
<ul>
<li>所有叶节点到根节点的距离相同(深度一致)</li>
<li>具有<strong>k</strong>个项目的非叶节点必须<strong>恰好</strong>具有<strong>k+1</strong>个子节点</li>
<li>这两个不变量保证了B树的高度为 <strong><code>logN</code></strong></li>
</ul>
<h4 id="174_b">17.4 B树的性能<a class="headerlink" href="#174_b" title="Permanent link">&para;</a></h4>
<ul>
<li>B树的高度在<strong>log<sub>L+1</sub>N</strong>到<strong>log<sub>2</sub>N</strong>之间，因此B树的整体高度始终为B-Tree的整体高度始终是 <strong><code>Θ(logN)</code></strong></li>
<li>其余如<code>contain``add</code>等操作的运行时间均为 <strong><code>Θ(logN)</code></strong></li>
</ul>
<h3 id="lec18_red_black_trees">Lec.18 <code>Red Black Trees</code>红黑树<a class="headerlink" href="#lec18_red_black_trees" title="Permanent link">&para;</a></h3>
<h4 id="181_rotating_trees">18.1 Rotating Trees<a class="headerlink" href="#181_rotating_trees" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>rotateLeft(G)</strong>：将<code>G</code>的右子节点<code>x</code>变为<code>G</code>的新左子节点</li>
<li><strong>rotateRight(G)</strong>：将<code>G</code>的左子节点<code>x</code>变为<code>G</code>的新右子节点
<img alt="alt text" src="../Insertgraph/image-4.png" /></li>
</ul>
<center>rotateLeft(G): 先合并再传递</center>

<ul>
<li>通过树的旋转，能缩短或延长树的高度，同时保留搜索树的属性</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="c1">// 右旋转操作</span>
</span><span id="True-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="nf">rotateRight</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">h</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="w">    </span><span class="c1">// 断言h不为空且h的左子节点为红色</span>
</span><span id="True-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="w">    </span><span class="c1">// assert (h != null) &amp;&amp; isRed(h.left);</span>
</span><span id="True-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="w">    </span><span class="n">Node</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将h的左子节点x保存</span>
</span><span id="True-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="w">    </span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="na">right</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将x的右子节点设为h的左子节点</span>
</span><span id="True-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="w">    </span><span class="n">x</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将h设为x的右子节点</span>
</span><span id="True-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="c1">// 返回新的根节点x</span>
</span><span id="True-59-9"><a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="p">}</span>
</span><span id="True-59-10"><a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a>
</span><span id="True-59-11"><a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a><span class="c1">// 将右倾链接变为左倾链接</span>
</span><span id="True-59-12"><a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="nf">rotateLeft</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">h</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-59-13"><a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a><span class="w">    </span><span class="c1">// 断言h不为空且h的右子节点为红色</span>
</span><span id="True-59-14"><a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a><span class="w">    </span><span class="c1">// assert (h != null) &amp;&amp; isRed(h.right);</span>
</span><span id="True-59-15"><a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a><span class="w">    </span><span class="n">Node</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将h的右子节点x保存</span>
</span><span id="True-59-16"><a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a><span class="w">    </span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="na">left</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将x的左子节点设为h的右子节点</span>
</span><span id="True-59-17"><a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a><span class="w">    </span><span class="n">x</span><span class="p">.</span><span class="na">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将h设为x的左子节点</span>
</span><span id="True-59-18"><a id="__codelineno-59-18" name="__codelineno-59-18" href="#__codelineno-59-18"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="c1">// 返回新的根节点x</span>
</span><span id="True-59-19"><a id="__codelineno-59-19" name="__codelineno-59-19" href="#__codelineno-59-19"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="182_creating_left-leaning_red-black_trees_llrb">18.2 Creating Left-leaning Red-black Trees (LLRB)<a class="headerlink" href="#182_creating_left-leaning_red-black_trees_llrb" title="Permanent link">&para;</a></h4>
<ol>
<li><code>LLRB Tree</code>的特点<ul>
<li>与<code>2-3 Tree</code>具有一一对应的关系</li>
<li>在<code>LLRB Tree</code>中，没有任何节点具有两个红色链接
    <sub>红色链接(<code>Red Link</code>)代表两个子节点在<code>2-3 Tree</code>中是一个节点的一部分</sub></li>
<li>所有的<code>Red Link</code>都是<strong>左倾</strong>的</li>
<li>从根到叶子的每条路径具有与<code>2-3 Tree</code>相同数量的黑色链接</li>
<li>高度不超过对应<code>2-3 Tree</code>高度的<strong>2倍加1</strong></li>
</ul>
</li>
<li>从<code>2-3 Tree</code>创建<code>LLRB Tree</code>的方法<ul>
<li>对于具有少于或等于2个子节点的节点，不作改变</li>
<li>对于具有3个子节点的节点，将<strong>左元素作为右元素的子节点(左倾)</strong></li>
</ul>
</li>
</ol>
<h4 id="183_inserting_nodes">18.3 Inserting Nodes<a class="headerlink" href="#183_inserting_nodes" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>像插入普通<code>BST</code>一样插入<code>LLRB</code>，若破坏了与<code>2-3 Tree</code>的一对一映射，则使用旋转将树恢复成适当的结构</p>
</li>
<li>
<p><strong>右倾3节点 (Left Leaning Violation)</strong></p>
<ul>
<li><strong>向左旋转</strong></li>
<li>若原本左节点也具有<code>Red Link</code>，再按照最后一种情况处理
   <img alt="alt text" src="../Insertgraph/image-5.png" /></li>
</ul>
</li>
<li>
<p><strong>左侧双重插入(Incorrect 4 Node Violation)</strong></p>
<ul>
<li>如果有两个连续的左红链接，那么我们有一个非法的4节点，<strong>旋转右节点</strong>以修复</li>
<li>先旋转创建<strong>包含右倾</strong>的节点，再按照最后一种情况处理
<img alt="alt text" src="../Insertgraph/image-6.png" /></li>
</ul>
</li>
<li>
<p><strong>节点有两个红色子节点(Temporary 4 Node)</strong></p>
<ul>
<li>通过<strong>翻转所有连接到节点S的边的颜色</strong>来解决非法4节点的问题</li>
<li>这相当于在<code>2-3 Tree</code>中向上推中间节点</li>
</ul>
<p><img alt="alt text" src="../Insertgraph/image-7.png" /></p>
<div class="highlight"><pre><span></span><code><span id="True-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">flipColors</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">h</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="w">    </span><span class="n">h</span><span class="p">.</span><span class="na">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">h</span><span class="p">.</span><span class="na">color</span><span class="p">;</span>
</span><span id="True-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="w">    </span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">.</span><span class="na">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">.</span><span class="na">color</span><span class="p">;</span>
</span><span id="True-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="w">    </span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="p">.</span><span class="na">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="p">.</span><span class="na">color</span><span class="p">;</span>
</span><span id="True-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="p">}</span>
</span></code></pre></div>
</li>
</ol>
<h4 id="184_run_time_analysis">18.4 Run Time Analysis<a class="headerlink" href="#184_run_time_analysis" title="Permanent link">&para;</a></h4>
<p>由于<code>LLRB Tree</code>与<code>2-3 Tree</code>一一对应，并且高度不超过对应<code>2-3 Tree</code>高度的2倍加1，因此操作的运行时间为 <strong><code>log(N)</code></strong></p>
<div class="highlight"><pre><span></span><code><span id="True-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="nf">put</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="n">Key</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="w">    </span><span class="c1">// 如果当前节点为空，则创建一个新的红色节点并返回</span>
</span><span id="True-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">h</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">RED</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
</span><span id="True-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="w">    </span><span class="c1">// 比较新键值与当前节点的键值</span>
</span><span id="True-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">cmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">key</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">key</span><span class="p">);</span>
</span><span id="True-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cmp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">put</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">,</span><span class="w">  </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
</span><span id="True-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cmp</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">put</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
</span><span id="True-61-8"><a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="w">    </span><span class="k">else</span><span class="w">              </span><span class="p">{</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="na">val</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span><span class="w">                    </span><span class="p">}</span>
</span><span id="True-61-9"><a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a><span class="w">    </span><span class="c1">// 如果当前节点的右子节点是红色，而左子节点不是红色，则进行左旋转</span>
</span><span id="True-61-10"><a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">))</span><span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rotateLeft</span><span class="p">(</span><span class="n">h</span><span class="p">);</span><span class="w">  </span><span class="p">}</span>
</span><span id="True-61-11"><a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a><span class="w">    </span><span class="c1">// 如果当前节点的左子节点是红色，并且左子节点的左子节点也是红色，则先进行右旋转</span>
</span><span id="True-61-12"><a id="__codelineno-61-12" name="__codelineno-61-12" href="#__codelineno-61-12"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">)</span><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w">  </span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">.</span><span class="na">left</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rotateRight</span><span class="p">(</span><span class="n">h</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
</span><span id="True-61-13"><a id="__codelineno-61-13" name="__codelineno-61-13" href="#__codelineno-61-13"></a><span class="w">    </span><span class="c1">// 如果当前节点的左子节点和右子节点都是红色，则进行颜色翻转</span>
</span><span id="True-61-14"><a id="__codelineno-61-14" name="__codelineno-61-14" href="#__codelineno-61-14"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">)</span><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w">  </span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="p">))</span><span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="n">flipColors</span><span class="p">(</span><span class="n">h</span><span class="p">);</span><span class="w">      </span><span class="p">}</span>
</span><span id="True-61-15"><a id="__codelineno-61-15" name="__codelineno-61-15" href="#__codelineno-61-15"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">h</span><span class="p">;</span>
</span><span id="True-61-16"><a id="__codelineno-61-16" name="__codelineno-61-16" href="#__codelineno-61-16"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="lec19_hashing">Lec.19 Hashing<a class="headerlink" href="#lec19_hashing" title="Permanent link">&para;</a></h3>
<ol>
<li>Hashing：将复杂的对象(如字符串)转化为数值表示(如整数)</li>
<li>Hash Code：通过实现<code>hashCode()</code>函数，可以将键转换为整数哈希值</li>
<li>为了避免内存效率问题，可以通过<strong>模运算</strong>将哈希值缩小到合适的范围内</li>
<li>使用<code>Math.floorMod(key.hashCode(), array.length)</code>来定位数组中的正确索引</li>
<li>
<p>"Valid" &amp; "Good" Hashcodes
    Valid (有效性)：</p>
<ul>
<li>确定性：两个相等的对象具有相同的哈希码，</li>
<li>一致性：同一对象的哈希码在多次调用中保持不变
Good:</li>
<li>尽可能分布在所有的整数集合中
<em><sub>默认的哈希函数使用对象的内存地址作为哈希码，这通常会得到良好的分布</sub></em></li>
<li>计算速度较快</li>
</ul>
</li>
<li>
<p>处理哈希冲突的方法</p>
<ol>
<li>外部链接(External Chaining)：通过将具有相同哈希值的所有键存储在一个集合(如链表)中来解决冲突<ul>
<li>插入：将元素插入到哈希表中计算出的索引位置，如果该位置已经有元素，则将新元素添加到该位置的链表中</li>
<li>查找：首先计算索引位置，然后遍历该位置的链表，直到找到匹配的元素或链表末尾</li>
</ul>
</li>
<li>线性探测(Linear Probing)：将冲突的键存储在数组的其他位置
<em>potentially in the next open array space</em></li>
</ol>
</li>
<li>
<p><strong>调整哈希表大小(从而)提升性能</strong></p>
<ul>
<li>负载因子(Load Factor)：<strong>插入元素的数量与数组总长度的比率</strong>，作为是否需要调整哈希表大小的量度</li>
<li>
<p><strong><code>Java</code>的默认最大负载因子是0.75</strong></p>
</li>
<li>
<p>在插入新元素之前，<strong>检查当前负载因子是否超过最大负载因子</strong></p>
</li>
<li>如果负载因子超过最大负载因子，则<strong>将底层数组长度加倍</strong></li>
<li>由于数组长度发生了变化，需要<strong>重新计算</strong>所有元素的索引位置，并将它们<strong>重新插入</strong>到新的数组中</li>
<li>将新元素插入到哈希表中</li>
</ul>
</li>
<li>
<p>如果类覆盖了<code>equals</code>方法，那么也应该一致地覆盖<code>hashCode</code>方法</p>
</li>
<li>Mutable Types可变数据类型</li>
<li>可变HashSet键：原则上可以创建一个<code>HashSet&lt;List&gt;</code>，若将一个<code>List</code>插入到<code>HashSet</code>中，然后修改该<code>List</code>，<strong>可能会导致错误结果和数据丢失</strong>(哈希码发生了改变)</li>
<li>因此永远<strong>不要修改用作键的对象</strong></li>
<li>Immutable Types不可变数据类型<ul>
<li>不可变数据类型在实例化后不能以任何可观察的方式更改</li>
<li>如<code>Integer</code>、<code>String</code>和<code>Date</code></li>
<li><code>final</code>关键字：<code>final</code>变量意味着仅可以赋值一次(在类的构造函数或初始化器中)，但之后不能更改</li>
<li><strong><code>final</code>既不是不可变类的充分条件，也不是必要条件</strong></li>
<li>优点：不可变类的结果总是相同的，无论何时访问，降低了错误发生的概率</li>
<li>缺点：每次更改时必须创建一个新对象，例如，字符串连接操作很慢</li>
</ul>
</li>
</ol>
<h3 id="lec20_heaps_and_pqs">Lec.20 Heaps and PQs 堆和优先队列<a class="headerlink" href="#lec20_heaps_and_pqs" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>二叉最小堆的特性：<strong>完备<code>Complete</code></strong> 且遵循 **最小堆的属性<code>Min-heap Property</code></p>
<ul>
<li><code>Complete</code>：仅在底部缺少节点，并且所有节点应该尽可能左倾</li>
<li><code>Min-heap Property</code>：每个节点都小于或等于其子节点</li>
</ul>
</li>
<li>
<p>最小堆的操作：</p>
</li>
<li>
<p><code>add</code>：将新元素添加到<strong>堆的末尾</strong>，然后<strong>上浮</strong>以维护堆的性质</p>
<div class="highlight"><pre><span></span><code>```java
    public void insert(int value) {
        heap.add(value); // 将新元素添加到堆的末尾
        int index = heap.size() - 1;
        while (index &gt; 0) {
            int parentIndex = (index - 1) / 2;
            if (heap.get(parentIndex) &gt;= heap.get(index)) {
                break; // 父节点已经大于等于当前节点，堆性质满足
            }
            // 交换父节点和当前节点
            Collections.swap(heap, parentIndex, index);
            index = parentIndex;
        }
    }
```
</code></pre></div>
<ol>
<li>
<p><code>delete</code>：移除堆顶元素，将堆的<strong>最后一个元素移到堆顶</strong>，然后<strong>下沉</strong>以维护堆的性质</p>
<div class="highlight"><pre><span></span><code><span id="True-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">removeMax</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">heap</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-63-3"><a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NoSuchElementException</span><span class="p">(</span><span class="s">&quot;Heap is empty&quot;</span><span class="p">);</span>
</span><span id="True-63-4"><a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-63-5"><a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">maxValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">heap</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span><span id="True-63-6"><a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">lastValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">heap</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="n">heap</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="True-63-7"><a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">heap</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-63-8"><a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a><span class="w">        </span><span class="n">heap</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">lastValue</span><span class="p">);</span>
</span><span id="True-63-9"><a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a><span class="w">        </span><span class="n">heapifyDown</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span><span id="True-63-10"><a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-63-11"><a id="__codelineno-63-11" name="__codelineno-63-11" href="#__codelineno-63-11"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">maxValue</span><span class="p">;</span>
</span><span id="True-63-12"><a id="__codelineno-63-12" name="__codelineno-63-12" href="#__codelineno-63-12"></a><span class="p">}</span>
</span></code></pre></div>
<div class="highlight"><pre><span></span><code><span id="True-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">heapifyDown</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">leftChildIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">rightChildIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="True-64-4"><a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">largestIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
</span><span id="True-64-5"><a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a>
</span><span id="True-64-6"><a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">leftChildIndex</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">heap</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">heap</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">leftChildIndex</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">heap</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">largestIndex</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-64-7"><a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a><span class="w">        </span><span class="n">largestIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">leftChildIndex</span><span class="p">;</span>
</span><span id="True-64-8"><a id="__codelineno-64-8" name="__codelineno-64-8" href="#__codelineno-64-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-64-9"><a id="__codelineno-64-9" name="__codelineno-64-9" href="#__codelineno-64-9"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rightChildIndex</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">heap</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">heap</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">rightChildIndex</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">heap</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">largestIndex</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-64-10"><a id="__codelineno-64-10" name="__codelineno-64-10" href="#__codelineno-64-10"></a><span class="w">        </span><span class="n">largestIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rightChildIndex</span><span class="p">;</span>
</span><span id="True-64-11"><a id="__codelineno-64-11" name="__codelineno-64-11" href="#__codelineno-64-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-64-12"><a id="__codelineno-64-12" name="__codelineno-64-12" href="#__codelineno-64-12"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">largestIndex</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-64-13"><a id="__codelineno-64-13" name="__codelineno-64-13" href="#__codelineno-64-13"></a><span class="w">        </span><span class="n">Collections</span><span class="p">.</span><span class="na">swap</span><span class="p">(</span><span class="n">heap</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">largestIndex</span><span class="p">);</span>
</span><span id="True-64-14"><a id="__codelineno-64-14" name="__codelineno-64-14" href="#__codelineno-64-14"></a><span class="w">        </span><span class="n">heapifyDown</span><span class="p">(</span><span class="n">largestIndex</span><span class="p">);</span>
</span><span id="True-64-15"><a id="__codelineno-64-15" name="__codelineno-64-15" href="#__codelineno-64-15"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-64-16"><a id="__codelineno-64-16" name="__codelineno-64-16" href="#__codelineno-64-16"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>如何找到父节点与子节点：(在数组的开头留一个空位以简化计算)</p>
<div class="highlight"><pre><span></span><code><span id="True-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="n">leftChild</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span>
</span><span id="True-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="n">rightChild</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="True-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="n">parent</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span>
</span></code></pre></div>
</li>
</ol>
</li>
</ol>
<h3 id="lec21_tree_and_graph_traversals">Lec.21 Tree and Graph Traversals<a class="headerlink" href="#lec21_tree_and_graph_traversals" title="Permanent link">&para;</a></h3>
<h4 id="211_tree_recap">21.1 Tree Recap<a class="headerlink" href="#211_tree_recap" title="Permanent link">&para;</a></h4>
<ol>
<li>树的结构：由节点和边组成<ul>
<li>节点 (或顶点) 是连接的</li>
<li>边连接节点，且<strong>不能形成环</strong></li>
<li>任意两个节点之间<strong>有且仅有一条</strong>路径</li>
</ul>
</li>
<li>树的应用：搜索树、堆、组织结构图等</li>
<li>22.2 树的遍历 <strong><code>Tree Traversal</code></strong></li>
<li>层次遍历 (广度优先搜索，<code>BFS</code>)：按层次从左到右遍历<code>Level Order Traversal</code></li>
<li>深度优先遍历(<code>DFS</code>)：包括前序遍历、中序遍历和后序遍历</li>
<li>
<p><strong>前序遍历<code>Pre-order Traversal</code></strong>：先访问根节点，然后递归遍历左子树，最后递归遍历右子树</p>
<div class="highlight"><pre><span></span><code><span id="True-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">preOrder</span><span class="p">(</span><span class="n">BSTNode</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
</span><span id="True-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">key</span><span class="p">);</span>
</span><span id="True-66-4"><a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="w">    </span><span class="n">preOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">left</span><span class="p">);</span>
</span><span id="True-66-5"><a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a><span class="w">    </span><span class="n">preOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">right</span><span class="p">);</span>
</span><span id="True-66-6"><a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p><strong>中序遍历<code>In-order Traversal</code></strong>:先递归遍历左子树，然后访问根节点，最后递归遍历右子树</p>
<div class="highlight"><pre><span></span><code><span id="True-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">inOrder</span><span class="p">(</span><span class="n">BSTNode</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
</span><span id="True-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="w">    </span><span class="n">inOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">left</span><span class="p">);</span>
</span><span id="True-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">key</span><span class="p">);</span>
</span><span id="True-67-5"><a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a><span class="w">    </span><span class="n">inOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">right</span><span class="p">);</span>
</span><span id="True-67-6"><a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p><strong>后序遍历<code>Post-order Traversal</code></strong>:先递归遍历左子树，然后递归遍历右子树，最后访问根节点</p>
<div class="highlight"><pre><span></span><code><span id="True-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">postOrder</span><span class="p">(</span><span class="n">BSTNode</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
</span><span id="True-68-3"><a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="w">    </span><span class="n">postOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">left</span><span class="p">);</span>
</span><span id="True-68-4"><a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="w">    </span><span class="n">postOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">right</span><span class="p">);</span>
</span><span id="True-68-5"><a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">key</span><span class="p">);</span>
</span><span id="True-68-6"><a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>For human: 绕着根节点逆时针转</p>
</li>
<li><code>Pre-order Traversal</code>: 从节点左边过的时候取</li>
<li><code>In-order Traversal</code>: 从节点下面过的时候取</li>
<li><code>Post-order Traversal</code>: 从节点右边过的时候取</li>
</ol>
<h4 id="212_graph">21.2 Graph<a class="headerlink" href="#212_graph" title="Permanent link">&para;</a></h4>
<ol>
<li>图是一种由<strong>节点和边</strong>组成的结构</li>
<li>所有树都是图，但不是所有图都是树</li>
<li>简单图和多重图<code>simple graphs and multigraphs</code>：简单图没有多重边和自环，而多重图允许这些结构
    <em><sub>CS61B只讨论简单图</sub></em></li>
<li>无向图<code>undirected graphs</code>和有向图<code>directed graphs</code>：无向图的边可以双向访问，而有向图的边有方向</li>
<li>有环图<code>cyclic graphs</code>或无环图<code>acyclic graphs</code>：有环图包含从某节点出发经过一些边后回到该节点的路径，而无环图没有这样的路径</li>
<li><strong>s-t Path: Is there a path between vertices s and t?</strong></li>
<li><strong>深度优先搜索<code>Depth First Search (DFS)</code></strong>：</li>
<li>从起始节点<code>s</code>开始，沿着一条路径尽可能深入，直到到达目标节点<code>t</code>或没有更多的节点可以访问为止</li>
<li>如果在某条路径上没有找到目标节点t，则回溯到上一个节点，继续探索其他路径</li>
<li>
<p><strong>DFS 前序遍历（Preorder）</strong></p>
<ul>
<li>在前序遍历中，操作在递归调用邻居节点之前进行，这意味着<strong>首先处理当前节点</strong>，然后递归处理其邻居节点</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">dfsPreorder</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="w">    </span><span class="n">mark</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"> </span><span class="c1">// 标记当前节点，避免无限递归</span>
</span><span id="True-69-3"><a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="w">    </span><span class="n">action</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"> </span><span class="c1">// 执行操作，例如设置edgeTo，</span>
</span><span id="True-69-4"><a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">neighbor</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">neighbors</span><span class="p">(</span><span class="n">s</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-69-5"><a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">isMarked</span><span class="p">(</span><span class="n">neighbor</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-69-6"><a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a><span class="w">            </span><span class="n">dfsPreorder</span><span class="p">(</span><span class="n">neighbor</span><span class="p">);</span>
</span><span id="True-69-7"><a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-69-8"><a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-69-9"><a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p><strong>DFS 后序遍历（Postorder）</strong></p>
<ul>
<li>在后序遍历中，操作在递归调用邻居节点之后进行，这意味着<strong>首先递归处理当前节点的所有邻居节点</strong>，然后再处理当前节点</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">dfsPostorder</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="w">    </span><span class="n">mark</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"> </span><span class="c1">// 标记当前节点</span>
</span><span id="True-70-3"><a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">neighbor</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">neighbors</span><span class="p">(</span><span class="n">s</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-70-4"><a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">isMarked</span><span class="p">(</span><span class="n">neighbor</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-70-5"><a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="w">            </span><span class="n">dfsPostorder</span><span class="p">(</span><span class="n">neighbor</span><span class="p">);</span>
</span><span id="True-70-6"><a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-70-7"><a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-70-8"><a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a><span class="w">    </span><span class="n">action</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"> </span><span class="c1">// 执行操作，例如打印节点</span>
</span><span id="True-70-9"><a id="__codelineno-70-9" name="__codelineno-70-9" href="#__codelineno-70-9"></a><span class="p">}</span>
</span></code></pre></div>
</li>
</ol>
<h3 id="lec22_graph_traversals_and_implementations">Lec.22 Graph Traversals and Implementations<a class="headerlink" href="#lec22_graph_traversals_and_implementations" title="Permanent link">&para;</a></h3>
<h4 id="221_graph_implementations">22.1 Graph Implementations<a class="headerlink" href="#221_graph_implementations" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><code>Graphs API</code></p>
<div class="highlight"><pre><span></span><code><span id="True-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Graph</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="kd">public</span><span class="w"> </span><span class="nf">Graph</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">V</span><span class="p">);</span><span class="w">               </span><span class="c1">// 创建一个包含V个顶点的空图</span>
</span><span id="True-71-3"><a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addEdge</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">);</span><span class="w"> </span><span class="c1">// 添加边v-w</span>
</span><span id="True-71-4"><a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">adj</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">);</span><span class="w">      </span><span class="c1">// 返回与顶点v相邻的顶点</span>
</span><span id="True-71-5"><a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="kt">int</span><span class="w"> </span><span class="nf">V</span><span class="p">();</span><span class="w">                           </span><span class="c1">// 返回顶点数</span>
</span><span id="True-71-6"><a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a><span class="kt">int</span><span class="w"> </span><span class="nf">E</span><span class="p">();</span><span class="w">                           </span><span class="c1">// 返回边数</span>
</span><span id="True-71-7"><a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>邻接矩阵 <code>Adjacency Matrix</code></p>
<ul>
<li>使用二维数组表示图</li>
<li>每个顶点对之间都有一个布尔值，表示是否存在边</li>
<li>对于一个包含 <code>V</code> 个顶点的图，邻接矩阵是一个 <code>V x V</code> 的布尔数组</li>
<li>简单直观，检查两个顶点之间是否存在边的时间复杂度为 <code>O(1)</code></li>
<li>空间复杂度高，为 <code>O(V^2)</code>，不适用于稀疏图 (即边数远小于顶点数的图)</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="w">  </span><span class="kt">int</span><span class="o">[][]</span><span class="w"> </span><span class="n">adjMatrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">V</span><span class="o">][</span><span class="n">V</span><span class="o">]</span><span class="p">;</span>
</span></code></pre></div>
</li>
<li>
<p>邻接表 <code>Adjacency List</code></p>
<ul>
<li>空间效率高，适用于稀疏图。</li>
<li>遍历一个顶点的<strong>所有</strong>相邻顶点的时间复杂度为 <code>O(degree(v))</code>，其中 <code>degree(v)</code> 是顶点 <code>v</code> 的深度</li>
<li>检查<strong>两个顶点之间</strong>是否存在边的时间复杂度为 <code>O(degree(v))</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;[]</span><span class="w"> </span><span class="n">adjList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">List</span><span class="o">[</span><span class="n">V</span><span class="o">]</span><span class="p">;</span>
</span></code></pre></div>
</li>
</ol>
<h4 id="222_graph_traversals">22.2 Graph Traversals<a class="headerlink" href="#222_graph_traversals" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><code>DFS</code> 深度优先搜索</p>
<ol>
<li>标记当前顶点为已访问</li>
<li><strong>递归</strong>地访问所有未被标记的相邻顶点</li>
<li>记录路径</li>
<li>时间复杂度：对于使用邻接表表示的图，<code>DFS</code> 的运行时间为 <code>O(V + E)</code>，其中 <code>V</code> 是顶点数，<code>E</code> 是边数，这是因为每个顶点和每条边都<strong>只会被访问一次</strong></li>
<li>空间复杂度：<code>DFS</code> 需要 <code>O(V)</code> 的空间来存储标记数组和路径数组，标记数组用于记录每个顶点是否已被访问，路径数组用于记录从起始顶点到当前顶点的路径</li>
</ol>
<p>```java
public class DepthFirstPaths {
    private boolean[] marked;
    private int[] edgeTo;
    private int s;</p>
<div class="highlight"><pre><span></span><code>public DepthFirstPaths(Graph G, int s) {
    ...
    dfs(G, s);
}
private void dfs(Graph G, int v) {
    marked[v] = true;
    for (int w : G.adj(v)) {
        if (!marked[w]) {
        edgeTo[w] = v;
        dfs(G, w);
        }         
    } 
}
</code></pre></div>
<p>...
   }
   ```</p>
</li>
<li>
<p><code>BFS</code> 广度优先搜索：使用队列来跟踪需要访问的顶点，<code>BFS</code> 从一个起始顶点开始，按距离从源顶点的顺序逐层遍历图</p>
<ol>
<li>将起始顶点标记为已访问并加入队列</li>
<li>当队列不为空时，取出队列的第一个顶点，访问其所有未被标记的相邻顶点，并将这些顶点加入队列</li>
<li>记录路径</li>
<li>时间复杂度：对于使用<strong>邻接表</strong>表示的图，<code>BFS</code> 的运行时间为 <code>O(V + E)</code>，其中 <code>V</code> 是顶点数，<code>E</code> 是边数，这是因为每个顶点和每条边都只会被访问一次</li>
<li>空间复杂度：<code>BFS</code> 需要 <code>O(V)</code> 的空间来存储标记数组和路径数组，标记数组用于记录每个顶点是否已被访问，路径数组用于记录从起始顶点到当前顶点的路径</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BreadthFirstPaths</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="o">[]</span><span class="w"> </span><span class="n">marked</span><span class="p">;</span><span class="w"> </span><span class="c1">// 标记顶点是否被访问</span>
</span><span id="True-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">edgeTo</span><span class="p">;</span><span class="w"> </span><span class="c1">// 记录起始顶点到当前顶点的路径</span>
</span><span id="True-74-4"><a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
</span><span id="True-74-5"><a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a>
</span><span id="True-74-6"><a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">BreadthFirstPaths</span><span class="p">(</span><span class="n">Graph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-74-7"><a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a><span class="w">        </span><span class="n">marked</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">boolean</span><span class="o">[</span><span class="n">G</span><span class="p">.</span><span class="na">V</span><span class="p">()</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-74-8"><a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a><span class="w">        </span><span class="n">edgeTo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">G</span><span class="p">.</span><span class="na">V</span><span class="p">()</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-74-9"><a id="__codelineno-74-9" name="__codelineno-74-9" href="#__codelineno-74-9"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
</span><span id="True-74-10"><a id="__codelineno-74-10" name="__codelineno-74-10" href="#__codelineno-74-10"></a><span class="w">        </span><span class="n">bfs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">);</span>
</span><span id="True-74-11"><a id="__codelineno-74-11" name="__codelineno-74-11" href="#__codelineno-74-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-74-12"><a id="__codelineno-74-12" name="__codelineno-74-12" href="#__codelineno-74-12"></a>
</span><span id="True-74-13"><a id="__codelineno-74-13" name="__codelineno-74-13" href="#__codelineno-74-13"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">bfs</span><span class="p">(</span><span class="n">Graph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-74-14"><a id="__codelineno-74-14" name="__codelineno-74-14" href="#__codelineno-74-14"></a><span class="w">        </span><span class="n">Queue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
</span><span id="True-74-15"><a id="__codelineno-74-15" name="__codelineno-74-15" href="#__codelineno-74-15"></a><span class="w">        </span><span class="n">marked</span><span class="o">[</span><span class="n">s</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="True-74-16"><a id="__codelineno-74-16" name="__codelineno-74-16" href="#__codelineno-74-16"></a><span class="w">        </span><span class="n">queue</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span><span id="True-74-17"><a id="__codelineno-74-17" name="__codelineno-74-17" href="#__codelineno-74-17"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">queue</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-74-18"><a id="__codelineno-74-18" name="__codelineno-74-18" href="#__codelineno-74-18"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queue</span><span class="p">.</span><span class="na">poll</span><span class="p">();</span>
</span><span id="True-74-19"><a id="__codelineno-74-19" name="__codelineno-74-19" href="#__codelineno-74-19"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="na">adj</span><span class="p">(</span><span class="n">v</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-74-20"><a id="__codelineno-74-20" name="__codelineno-74-20" href="#__codelineno-74-20"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">marked</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-74-21"><a id="__codelineno-74-21" name="__codelineno-74-21" href="#__codelineno-74-21"></a><span class="w">                    </span><span class="n">edgeTo</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
</span><span id="True-74-22"><a id="__codelineno-74-22" name="__codelineno-74-22" href="#__codelineno-74-22"></a><span class="w">                    </span><span class="n">marked</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="True-74-23"><a id="__codelineno-74-23" name="__codelineno-74-23" href="#__codelineno-74-23"></a><span class="w">                    </span><span class="n">queue</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">w</span><span class="p">);</span>
</span><span id="True-74-24"><a id="__codelineno-74-24" name="__codelineno-74-24" href="#__codelineno-74-24"></a><span class="w">                </span><span class="p">}</span>
</span><span id="True-74-25"><a id="__codelineno-74-25" name="__codelineno-74-25" href="#__codelineno-74-25"></a><span class="w">            </span><span class="p">}</span>
</span><span id="True-74-26"><a id="__codelineno-74-26" name="__codelineno-74-26" href="#__codelineno-74-26"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-74-27"><a id="__codelineno-74-27" name="__codelineno-74-27" href="#__codelineno-74-27"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-74-28"><a id="__codelineno-74-28" name="__codelineno-74-28" href="#__codelineno-74-28"></a><span class="w">    </span><span class="c1">// 检查是否存在起始顶点到目标顶点的路径</span>
</span><span id="True-74-29"><a id="__codelineno-74-29" name="__codelineno-74-29" href="#__codelineno-74-29"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasPathTo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-74-30"><a id="__codelineno-74-30" name="__codelineno-74-30" href="#__codelineno-74-30"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">marked</span><span class="o">[</span><span class="n">v</span><span class="o">]</span><span class="p">;</span><span class="w"> </span>
</span><span id="True-74-31"><a id="__codelineno-74-31" name="__codelineno-74-31" href="#__codelineno-74-31"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-74-32"><a id="__codelineno-74-32" name="__codelineno-74-32" href="#__codelineno-74-32"></a><span class="w">    </span><span class="c1">// 返回起始顶点到目标顶点的路径</span>
</span><span id="True-74-33"><a id="__codelineno-74-33" name="__codelineno-74-33" href="#__codelineno-74-33"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">pathTo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-74-34"><a id="__codelineno-74-34" name="__codelineno-74-34" href="#__codelineno-74-34"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">hasPathTo</span><span class="p">(</span><span class="n">v</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="True-74-35"><a id="__codelineno-74-35" name="__codelineno-74-35" href="#__codelineno-74-35"></a><span class="w">        </span><span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
</span><span id="True-74-36"><a id="__codelineno-74-36" name="__codelineno-74-36" href="#__codelineno-74-36"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">edgeTo</span><span class="o">[</span><span class="n">x</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-74-37"><a id="__codelineno-74-37" name="__codelineno-74-37" href="#__codelineno-74-37"></a><span class="w">            </span><span class="n">path</span><span class="p">.</span><span class="na">addFirst</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span><span id="True-74-38"><a id="__codelineno-74-38" name="__codelineno-74-38" href="#__codelineno-74-38"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-74-39"><a id="__codelineno-74-39" name="__codelineno-74-39" href="#__codelineno-74-39"></a><span class="w">        </span><span class="n">path</span><span class="p">.</span><span class="na">addFirst</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span><span id="True-74-40"><a id="__codelineno-74-40" name="__codelineno-74-40" href="#__codelineno-74-40"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">path</span><span class="p">;</span>
</span><span id="True-74-41"><a id="__codelineno-74-41" name="__codelineno-74-41" href="#__codelineno-74-41"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-74-42"><a id="__codelineno-74-42" name="__codelineno-74-42" href="#__codelineno-74-42"></a><span class="p">}</span>
</span></code></pre></div>
</li>
</ol>
<h3 id="lec23_shortest_path">Lec.23 Shortest Path<a class="headerlink" href="#lec23_shortest_path" title="Permanent link">&para;</a></h3>
<p>广度优先算法无法用于加权图，因此需要寻找新的算法去找到加权图中的最短路径</p>
<h4 id="231_dijkstra_algorithm">23.1 Dijkstra Algorithm<a class="headerlink" href="#231_dijkstra_algorithm" title="Permanent link">&para;</a></h4>
<ol>
<li>通过优先队列 (通常是最小堆) 来跟踪当前已知的最短路径，并逐步扩展这些路径<strong>适用于所有边权重为非负的图</strong></li>
<li>初始化：<ul>
<li>将源顶点的距离设为<code>0</code>，其他顶点的距离设为无穷大</li>
<li>将所有顶点加入优先队列，初始时源顶点的优先级为0，其他顶点的优先级为<strong>无穷大</strong></li>
</ul>
</li>
<li>取出<strong>优先队列中距离最小</strong>的顶点：<ul>
<li>从优先队列中取出<strong>距离最小</strong>的顶点，并<strong>标记为已访问</strong></li>
</ul>
</li>
<li><strong><code>Relaxation</code></strong> 操作：<ul>
<li>对于该顶点的每个相邻顶点，计算通过该顶点到达相邻顶点的距离</li>
<li>如果该距离小于当前已知的距离，则更新距离并将相邻顶点加入优先队列或更新其优先级</li>
</ul>
</li>
<li>重复步骤<code>3</code>和<code>4</code>，直到优先队列为空</li>
<li>时间复杂度：<code>O(E · log V)</code></li>
<li>
<p>每个顶点和每条边都<strong>只会被访问一次</strong>，并且<strong>优先队列的操作</strong> (插入、删除和更新) 在最小堆实现中需要 <code>O(log V)</code> 的时间</p>
<div class="highlight"><pre><span></span><code><span id="True-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">dijkstras</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
</span><span id="True-75-2"><a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a>    <span class="c1"># 将源顶点添加到优先队列PQ中，初始距离为0</span>
</span><span id="True-75-3"><a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a>    <span class="n">PQ</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="True-75-4"><a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a>    <span class="c1"># 对于所有其他顶点，将它们添加到优先队列PQ中，初始距离为无穷大</span>
</span><span id="True-75-5"><a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a>    <span class="n">For</span> <span class="nb">all</span> <span class="n">other</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">PQ</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">infinity</span><span class="p">)</span>
</span><span id="True-75-6"><a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a>    <span class="c1"># 当优先队列PQ不为空时，执行以下操作</span>
</span><span id="True-75-7"><a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a>    <span class="k">while</span> <span class="n">PQ</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">empty</span><span class="p">:</span>
</span><span id="True-75-8"><a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a>        <span class="c1"># 从优先队列中移除距离最小的顶点p</span>
</span><span id="True-75-9"><a id="__codelineno-75-9" name="__codelineno-75-9" href="#__codelineno-75-9"></a>        <span class="n">p</span> <span class="o">=</span> <span class="n">PQ</span><span class="o">.</span><span class="n">removeSmallest</span><span class="p">()</span>
</span><span id="True-75-10"><a id="__codelineno-75-10" name="__codelineno-75-10" href="#__codelineno-75-10"></a>        <span class="c1"># 对顶点p的所有边进行松弛操作</span>
</span><span id="True-75-11"><a id="__codelineno-75-11" name="__codelineno-75-11" href="#__codelineno-75-11"></a>        <span class="n">relax</span><span class="p">(</span><span class="nb">all</span> <span class="n">edges</span> <span class="kn">from</span><span class="w"> </span><span class="nn">p</span><span class="p">)</span>
</span></code></pre></div>
<div class="highlight"><pre><span></span><code><span id="True-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">relax</span><span class="p">(</span><span class="n">edge</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">):</span>
</span><span id="True-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a>    <span class="c1"># 如果顶点q已经被访问（即q不在优先队列PQ中），则返回</span>
</span><span id="True-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a>    <span class="k">if</span> <span class="n">q</span> <span class="ow">is</span> <span class="n">visited</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="p">,</span> <span class="n">q</span> <span class="ow">is</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">PQ</span><span class="p">):</span>
</span><span id="True-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a>        <span class="k">return</span>
</span><span id="True-76-5"><a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a>    <span class="c1"># 如果通过顶点p到达顶点q的距离小于当前已知的距离，则更新距离和路径</span>
</span><span id="True-76-6"><a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a>    <span class="k">if</span> <span class="n">distTo</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">+</span> <span class="n">weight</span><span class="p">(</span><span class="n">edge</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">distTo</span><span class="p">[</span><span class="n">q</span><span class="p">]:</span>
</span><span id="True-76-7"><a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a>        <span class="c1"># 更新顶点q的最短距离</span>
</span><span id="True-76-8"><a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a>        <span class="n">distTo</span><span class="p">[</span><span class="n">q</span><span class="p">]</span> <span class="o">=</span> <span class="n">distTo</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">+</span> <span class="n">w</span>
</span><span id="True-76-9"><a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a>        <span class="c1"># 更新顶点q的前驱顶点为p</span>
</span><span id="True-76-10"><a id="__codelineno-76-10" name="__codelineno-76-10" href="#__codelineno-76-10"></a>        <span class="n">edgeTo</span><span class="p">[</span><span class="n">q</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span>
</span><span id="True-76-11"><a id="__codelineno-76-11" name="__codelineno-76-11" href="#__codelineno-76-11"></a>        <span class="c1"># 更新优先队列中顶点q的优先级</span>
</span><span id="True-76-12"><a id="__codelineno-76-12" name="__codelineno-76-12" href="#__codelineno-76-12"></a>        <span class="n">PQ</span><span class="o">.</span><span class="n">changePriority</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">distTo</span><span class="p">[</span><span class="n">q</span><span class="p">])</span>
</span></code></pre></div>
</li>
<li>
<p><code>Dijkstra</code>算法的关键不变量</p>
<ol>
<li><code>distTo[v]</code>是从源顶点到顶点 <code>v</code> 的已知最短距离</li>
<li>优先队列<code>PQ</code>中的顶点按照<code>distTo</code>值的升序排列</li>
</ol>
</li>
<li>正确性证明<ol>
<li>假设在某个时刻，顶点<code>u</code>从优先队列中取出，并且<code>distTo[u]</code>不是从源顶点到顶点<code>u</code>的最短距离</li>
<li>这意味着存在一条路径，使得通过其他顶点<code>v</code>到达顶点<code>u</code>的距离小于<code>distTo[u]</code></li>
<li>但是，根据<code>Dijkstra</code>算法的步骤，顶点<code>v</code>应该已经在顶点<code>u</code>之前从优先队列中取出，并且<code>distTo[u]</code>应该已经被更新为更小的值</li>
<li>这与假设矛盾，因此<code>distTo[u]</code>必须是从源顶点到顶点u的最短距离</li>
</ol>
</li>
</ol>
<h4 id="232_a_algorithm">23.2 A* Algorithm<a class="headerlink" href="#232_a_algorithm" title="Permanent link">&para;</a></h4>
<ol>
<li><code>A*</code>算法是一种启发式<code>heuristic</code>搜索算法，适用于单源单目标最短路径问题，它结合了<code>Dijkstra</code>算法和<strong>启发式函数</strong>，通过<strong>优先考虑估计距离较小</strong>的顶点来加速搜索</li>
<li>即在计算优先队列的优先级的时候，在实际距离的基础上，加上一个启发式的估计距离，其余计算方式于<code>Dijkstra</code>算法一致</li>
</ol>
<h3 id="lec24_minimum_spanning_trees">Lec.24 Minimum Spanning Trees最小生成树<a class="headerlink" href="#lec24_minimum_spanning_trees" title="Permanent link">&para;</a></h3>
<ol>
<li>最小生成树 <code>(MST)</code>: 是无向图的子图，包含所有顶点，且边的总权重最小</li>
<li><code>Cut Property</code>：对于任何切割，最小权重的横切边必定在MST中</li>
<li>切割：将图的顶点分成两个非空集合</li>
<li>横切边：连接两个集合的边</li>
</ol>
<h4 id="241_prim_algorithm">24.1 Prim Algorithm<a class="headerlink" href="#241_prim_algorithm" title="Permanent link">&para;</a></h4>
<ul>
<li>从一个任意的起始顶点开始，逐步扩展MST，直到包含所有顶点</li>
<li>
<p><code>Prim</code>算法与<code>Dijkstra</code>算法的比较：<code>Prim</code>算法考虑的是从<code>MST</code>的距离，<code>Dijkstra</code>算法考虑的是从源顶点的距离</p>
</li>
<li>
<p>初始化：</p>
<ul>
<li>从任意起始顶点开始，将其加入<code>MST</code></li>
<li>初始化一个优先队列，用于存储当前已知的最小权重边</li>
</ul>
</li>
<li>主循环：<ul>
<li>找到一条连接<code>MST</code>内顶点和<code>MST</code>外顶点的最小权重边，将该边和顶点加入<code>MST</code></li>
<li>更新优先队列，加入新的最小权重边</li>
<li>重复以上步骤，知道<code>MST</code>包含所有顶点</li>
</ul>
</li>
<li>时间复杂度：<code>O(E log V)</code>，其中 <code>E</code> 是边数，<code>V</code> 是顶点数，每次从优先队列中取出最小权重边的操作需要 <code>O(log V)</code> 的时间，而总共需要进行 <code>E</code> 次这样的操作</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">prim_mst</span><span class="p">(</span><span class="n">graph</span><span class="p">):</span>
</span><span id="True-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a>    <span class="c1"># 初始化</span>
</span><span id="True-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a>    <span class="n">start_vertex</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="True-77-4"><a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a>    <span class="n">mst</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="True-77-5"><a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a>    <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="True-77-6"><a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a>    <span class="n">pq</span> <span class="o">=</span> <span class="n">PriorityQueue</span><span class="p">()</span>
</span><span id="True-77-7"><a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a>    <span class="c1"># 将起始顶点加入优先队列</span>
</span><span id="True-77-8"><a id="__codelineno-77-8" name="__codelineno-77-8" href="#__codelineno-77-8"></a>    <span class="n">pq</span><span class="o">.</span><span class="n">put</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">start_vertex</span><span class="p">))</span>
</span><span id="True-77-9"><a id="__codelineno-77-9" name="__codelineno-77-9" href="#__codelineno-77-9"></a>    <span class="k">while</span> <span class="ow">not</span> <span class="n">pq</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
</span><span id="True-77-10"><a id="__codelineno-77-10" name="__codelineno-77-10" href="#__codelineno-77-10"></a>        <span class="c1"># 取出优先队列中权重最小的边</span>
</span><span id="True-77-11"><a id="__codelineno-77-11" name="__codelineno-77-11" href="#__codelineno-77-11"></a>        <span class="n">weight</span><span class="p">,</span> <span class="n">current_vertex</span> <span class="o">=</span> <span class="n">pq</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="True-77-12"><a id="__codelineno-77-12" name="__codelineno-77-12" href="#__codelineno-77-12"></a>        <span class="k">if</span> <span class="n">current_vertex</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
</span><span id="True-77-13"><a id="__codelineno-77-13" name="__codelineno-77-13" href="#__codelineno-77-13"></a>            <span class="k">continue</span>
</span><span id="True-77-14"><a id="__codelineno-77-14" name="__codelineno-77-14" href="#__codelineno-77-14"></a>        <span class="c1"># 将顶点加入MST</span>
</span><span id="True-77-15"><a id="__codelineno-77-15" name="__codelineno-77-15" href="#__codelineno-77-15"></a>        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">current_vertex</span><span class="p">)</span>
</span><span id="True-77-16"><a id="__codelineno-77-16" name="__codelineno-77-16" href="#__codelineno-77-16"></a>        <span class="n">mst</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">weight</span><span class="p">,</span> <span class="n">current_vertex</span><span class="p">))</span>
</span><span id="True-77-17"><a id="__codelineno-77-17" name="__codelineno-77-17" href="#__codelineno-77-17"></a>        <span class="c1"># 更新优先队列，加入新的最小权重边</span>
</span><span id="True-77-18"><a id="__codelineno-77-18" name="__codelineno-77-18" href="#__codelineno-77-18"></a>        <span class="k">for</span> <span class="n">neighbor</span><span class="p">,</span> <span class="n">weight</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">current_vertex</span><span class="p">]:</span>
</span><span id="True-77-19"><a id="__codelineno-77-19" name="__codelineno-77-19" href="#__codelineno-77-19"></a>            <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
</span><span id="True-77-20"><a id="__codelineno-77-20" name="__codelineno-77-20" href="#__codelineno-77-20"></a>                <span class="n">pq</span><span class="o">.</span><span class="n">put</span><span class="p">((</span><span class="n">weight</span><span class="p">,</span> <span class="n">neighbor</span><span class="p">))</span>
</span><span id="True-77-21"><a id="__codelineno-77-21" name="__codelineno-77-21" href="#__codelineno-77-21"></a>
</span><span id="True-77-22"><a id="__codelineno-77-22" name="__codelineno-77-22" href="#__codelineno-77-22"></a>    <span class="k">return</span> <span class="n">mst</span>
</span></code></pre></div>
<h4 id="242_kruskal_algorithm">24.2 Kruskal Algorithm<a class="headerlink" href="#242_kruskal_algorithm" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>按边的权重从小到大排序，逐步添加边到MST中，同时避免形成环</p>
</li>
<li>
<p>将所有边按权重从小到大排序：</p>
<ul>
<li>这一步可以使用快速排序或堆排序，时间复杂度为 O(E log E)，其中 E 是边数</li>
</ul>
</li>
<li>初始化并查集：<ul>
<li>使用并查集（Union-Find）数据结构来管理顶点的连通性，帮助检测环的形成 <strong>(WQUPC)可见<a href="#145-weighted-quick-union-wqu-加权快速合并"><code>Lec14.5</code></a></strong></li>
</ul>
</li>
<li>主循环：<ul>
<li>重复以下步骤，直到<code>MST</code>包含<code>V-1</code>条边 (<code>V</code>是顶点数)：</li>
<li>取出最小权重边</li>
<li>使用并查集检查这条边的两个顶点是否在同一个连通分量中</li>
<li>如果不在同一个连通分量中，添加该边到<code>MST</code>，并将两个顶点合并到同一个连通分量中</li>
</ul>
</li>
<li>时间复杂度：<code>Kruskal</code>算法的时间复杂度为 <code>O(E log E)</code>，使用优先队列时为 <code>O(E log V)</code><ul>
<li>排序所有边的时间复杂度为 <code>O(E log E)</code></li>
<li>并查集的操作 (查找和合并) 的时间复杂度接近常数时间，使用路径压缩和按秩合并优化后为 <code>O(log* V)</code>，其中 <code>log* V</code> 是极慢增长的函数 (不大于5)</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="True-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">UnionFind</span><span class="p">:</span>
</span><span id="True-78-2"><a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
</span><span id="True-78-3"><a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a>        <span class="c1"># 初始化父节点数组和秩数组</span>
</span><span id="True-78-4"><a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</span><span id="True-78-5"><a id="__codelineno-78-5" name="__codelineno-78-5" href="#__codelineno-78-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rank</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span>
</span><span id="True-78-6"><a id="__codelineno-78-6" name="__codelineno-78-6" href="#__codelineno-78-6"></a>
</span><span id="True-78-7"><a id="__codelineno-78-7" name="__codelineno-78-7" href="#__codelineno-78-7"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">):</span>
</span><span id="True-78-8"><a id="__codelineno-78-8" name="__codelineno-78-8" href="#__codelineno-78-8"></a>        <span class="c1"># 查找顶点u的根节点，并进行路径压缩</span>
</span><span id="True-78-9"><a id="__codelineno-78-9" name="__codelineno-78-9" href="#__codelineno-78-9"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">!=</span> <span class="n">u</span><span class="p">:</span>
</span><span id="True-78-10"><a id="__codelineno-78-10" name="__codelineno-78-10" href="#__codelineno-78-10"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">[</span><span class="n">u</span><span class="p">])</span>
</span><span id="True-78-11"><a id="__codelineno-78-11" name="__codelineno-78-11" href="#__codelineno-78-11"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">[</span><span class="n">u</span><span class="p">]</span>
</span><span id="True-78-12"><a id="__codelineno-78-12" name="__codelineno-78-12" href="#__codelineno-78-12"></a>
</span><span id="True-78-13"><a id="__codelineno-78-13" name="__codelineno-78-13" href="#__codelineno-78-13"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
</span><span id="True-78-14"><a id="__codelineno-78-14" name="__codelineno-78-14" href="#__codelineno-78-14"></a>        <span class="c1"># 合并两个顶点u和v所在的集合</span>
</span><span id="True-78-15"><a id="__codelineno-78-15" name="__codelineno-78-15" href="#__codelineno-78-15"></a>        <span class="n">root_u</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
</span><span id="True-78-16"><a id="__codelineno-78-16" name="__codelineno-78-16" href="#__codelineno-78-16"></a>        <span class="n">root_v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="True-78-17"><a id="__codelineno-78-17" name="__codelineno-78-17" href="#__codelineno-78-17"></a>        <span class="k">if</span> <span class="n">root_u</span> <span class="o">!=</span> <span class="n">root_v</span><span class="p">:</span>
</span><span id="True-78-18"><a id="__codelineno-78-18" name="__codelineno-78-18" href="#__codelineno-78-18"></a>            <span class="c1"># 根据秩合并，确保树的高度最小</span>
</span><span id="True-78-19"><a id="__codelineno-78-19" name="__codelineno-78-19" href="#__codelineno-78-19"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rank</span><span class="p">[</span><span class="n">root_u</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">rank</span><span class="p">[</span><span class="n">root_v</span><span class="p">]:</span>
</span><span id="True-78-20"><a id="__codelineno-78-20" name="__codelineno-78-20" href="#__codelineno-78-20"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">[</span><span class="n">root_v</span><span class="p">]</span> <span class="o">=</span> <span class="n">root_u</span>
</span><span id="True-78-21"><a id="__codelineno-78-21" name="__codelineno-78-21" href="#__codelineno-78-21"></a>            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">rank</span><span class="p">[</span><span class="n">root_u</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">rank</span><span class="p">[</span><span class="n">root_v</span><span class="p">]:</span>
</span><span id="True-78-22"><a id="__codelineno-78-22" name="__codelineno-78-22" href="#__codelineno-78-22"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">[</span><span class="n">root_u</span><span class="p">]</span> <span class="o">=</span> <span class="n">root_v</span>
</span><span id="True-78-23"><a id="__codelineno-78-23" name="__codelineno-78-23" href="#__codelineno-78-23"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="True-78-24"><a id="__codelineno-78-24" name="__codelineno-78-24" href="#__codelineno-78-24"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">[</span><span class="n">root_v</span><span class="p">]</span> <span class="o">=</span> <span class="n">root_u</span>
</span><span id="True-78-25"><a id="__codelineno-78-25" name="__codelineno-78-25" href="#__codelineno-78-25"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">rank</span><span class="p">[</span><span class="n">root_u</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span></code></pre></div>
<div class="highlight"><pre><span></span><code><span id="True-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">kruskal_mst</span><span class="p">(</span><span class="n">graph</span><span class="p">):</span>
</span><span id="True-79-2"><a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a>    <span class="n">mst</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># 存储最小生成树的边</span>
</span><span id="True-79-3"><a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a>    <span class="c1"># 按权重对所有边进行排序</span>
</span><span id="True-79-4"><a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a>    <span class="n">edges</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">graph</span><span class="p">[</span><span class="s1">&#39;edges&#39;</span><span class="p">],</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="True-79-5"><a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a>    <span class="n">uf</span> <span class="o">=</span> <span class="n">UnionFind</span><span class="p">(</span><span class="n">graph</span><span class="p">[</span><span class="s1">&#39;vertices&#39;</span><span class="p">])</span>  <span class="c1"># 初始化并查集</span>
</span><span id="True-79-6"><a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a>
</span><span id="True-79-7"><a id="__codelineno-79-7" name="__codelineno-79-7" href="#__codelineno-79-7"></a>    <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">:</span>
</span><span id="True-79-8"><a id="__codelineno-79-8" name="__codelineno-79-8" href="#__codelineno-79-8"></a>        <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">weight</span> <span class="o">=</span> <span class="n">edge</span>
</span><span id="True-79-9"><a id="__codelineno-79-9" name="__codelineno-79-9" href="#__codelineno-79-9"></a>        <span class="c1"># 如果u和v不在同一个连通分量中，则添加该边到MST</span>
</span><span id="True-79-10"><a id="__codelineno-79-10" name="__codelineno-79-10" href="#__codelineno-79-10"></a>        <span class="k">if</span> <span class="n">uf</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="o">!=</span> <span class="n">uf</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
</span><span id="True-79-11"><a id="__codelineno-79-11" name="__codelineno-79-11" href="#__codelineno-79-11"></a>            <span class="n">uf</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</span><span id="True-79-12"><a id="__codelineno-79-12" name="__codelineno-79-12" href="#__codelineno-79-12"></a>            <span class="n">mst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edge</span><span class="p">)</span>
</span><span id="True-79-13"><a id="__codelineno-79-13" name="__codelineno-79-13" href="#__codelineno-79-13"></a>            <span class="c1"># 如果MST包含的边数达到顶点数-1，则停止</span>
</span><span id="True-79-14"><a id="__codelineno-79-14" name="__codelineno-79-14" href="#__codelineno-79-14"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">mst</span><span class="p">)</span> <span class="o">==</span> <span class="n">graph</span><span class="p">[</span><span class="s1">&#39;vertices&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="True-79-15"><a id="__codelineno-79-15" name="__codelineno-79-15" href="#__codelineno-79-15"></a>                <span class="k">break</span>
</span><span id="True-79-16"><a id="__codelineno-79-16" name="__codelineno-79-16" href="#__codelineno-79-16"></a>
</span><span id="True-79-17"><a id="__codelineno-79-17" name="__codelineno-79-17" href="#__codelineno-79-17"></a>    <span class="k">return</span> <span class="n">mst</span>
</span></code></pre></div>
<ul>
<li><code>Kruskal</code>算法与<code>Prim</code>算法的比较：<code>Prim</code>算法适用于稠密图，<code>Kruskal</code>算法适用于稀疏图</li>
</ul>
<h3 id="lec25_prefix_operations_and_tries">Lec.25 Prefix Operations and Tries 前缀操作与字典树<a class="headerlink" href="#lec25_prefix_operations_and_tries" title="Permanent link">&para;</a></h3>
<ol>
<li><code>Trie</code>: 对字符串键的映射，树形结构，每个节点代表一个字符，节点可以被多个键共享</li>
<li>优点：</li>
<li>高效的字符串查找，时间复杂度为<code>O(1)</code></li>
<li>支持前缀匹配，适用于自动补全与拼写检查</li>
<li>基本的<code>Trie</code>实现：<ul>
<li>每个节点存储一个字符、一个指向子节点的映射和一个标志表示是否是一个键</li>
<li>使用 <code>DataIndexedCharMap</code> 来存储子节点的映射</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TrieSet</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-80-2"><a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="w">     </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">R</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">128</span><span class="p">;</span><span class="w"> </span><span class="c1">// ASCII</span>
</span><span id="True-80-3"><a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="w">     </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">root</span><span class="p">;</span><span class="w"> </span><span class="c1">// root of trie</span>
</span><span id="True-80-4"><a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a>
</span><span id="True-80-5"><a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a><span class="w">     </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-80-6"><a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a><span class="w">         </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isKey</span><span class="p">;</span><span class="w">   </span>
</span><span id="True-80-7"><a id="__codelineno-80-7" name="__codelineno-80-7" href="#__codelineno-80-7"></a><span class="w">         </span><span class="c1">// 每个节点储存R个链接，但大多数链接为空</span>
</span><span id="True-80-8"><a id="__codelineno-80-8" name="__codelineno-80-8" href="#__codelineno-80-8"></a><span class="w">         </span><span class="kd">private</span><span class="w"> </span><span class="n">DataIndexedCharMap</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">&gt;</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>
</span><span id="True-80-9"><a id="__codelineno-80-9" name="__codelineno-80-9" href="#__codelineno-80-9"></a><span class="w">         </span><span class="kd">private</span><span class="w"> </span><span class="nf">Node</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">R</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-80-10"><a id="__codelineno-80-10" name="__codelineno-80-10" href="#__codelineno-80-10"></a><span class="w">         </span><span class="n">isKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
</span><span id="True-80-11"><a id="__codelineno-80-11" name="__codelineno-80-11" href="#__codelineno-80-11"></a><span class="w">         </span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataIndexedCharMap</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">R</span><span class="p">);</span>
</span><span id="True-80-12"><a id="__codelineno-80-12" name="__codelineno-80-12" href="#__codelineno-80-12"></a><span class="w">         </span><span class="p">}</span>
</span><span id="True-80-13"><a id="__codelineno-80-13" name="__codelineno-80-13" href="#__codelineno-80-13"></a><span class="w">     </span><span class="p">}</span>
</span><span id="True-80-14"><a id="__codelineno-80-14" name="__codelineno-80-14" href="#__codelineno-80-14"></a><span class="w"> </span><span class="p">}</span>
</span></code></pre></div>
<ol>
<li>代替的子节点跟踪策略<ul>
<li>哈希表：几乎同样快 (要计算哈希值)，但使用更少的内存</li>
<li>平衡二叉树：稍慢，但使用的内存与哈希表相似</li>
</ul>
</li>
<li>
<p>查看<code>Trie</code>中的所有键：</p>
<div class="highlight"><pre><span></span><code><span id="True-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">collect</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-81-2"><a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
</span><span id="True-81-3"><a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a><span class="w">    </span><span class="n">collect</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">results</span><span class="p">);</span>
</span><span id="True-81-4"><a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">results</span><span class="p">;</span>
</span><span id="True-81-5"><a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a><span class="p">}</span>
</span><span id="True-81-6"><a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a>
</span><span id="True-81-7"><a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">collect</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">results</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-81-8"><a id="__codelineno-81-8" name="__codelineno-81-8" href="#__codelineno-81-8"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
</span><span id="True-81-9"><a id="__codelineno-81-9" name="__codelineno-81-9" href="#__codelineno-81-9"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">isKey</span><span class="p">)</span><span class="w"> </span><span class="n">results</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">prefix</span><span class="p">);</span>
</span><span id="True-81-10"><a id="__codelineno-81-10" name="__codelineno-81-10" href="#__codelineno-81-10"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">R</span><span class="p">;</span><span class="w"> </span><span class="n">c</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-81-11"><a id="__codelineno-81-11" name="__codelineno-81-11" href="#__codelineno-81-11"></a><span class="w">        </span><span class="n">collect</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">next</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">c</span><span class="p">),</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">results</span><span class="p">);</span>
</span><span id="True-81-12"><a id="__codelineno-81-12" name="__codelineno-81-12" href="#__codelineno-81-12"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-81-13"><a id="__codelineno-81-13" name="__codelineno-81-13" href="#__codelineno-81-13"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>自动补全：</p>
<ul>
<li>创建一个基于<code>Trie</code>的字典，将字符串映射到值</li>
<li>当用户输入字符串时，调用<code>keysWithPrefix</code>并返回具有最高值的字符串</li>
</ul>
</li>
<li>更高效的自动补全：<ul>
<li>每个节点储存自身的值以及最佳子字符串的值</li>
<li>通过使用优先队列来考虑节点的顺序</li>
</ul>
</li>
</ol>
<h3 id="lec26_basic_sorts">Lec.26 Basic Sorts<a class="headerlink" href="#lec26_basic_sorts" title="Permanent link">&para;</a></h3>
<h4 id="261_sorting_problem">26.1 Sorting Problem<a class="headerlink" href="#261_sorting_problem" title="Permanent link">&para;</a></h4>
<ol>
<li>排序问题是指给定一个包含 <code>n</code> 个元素的数组，重新排列这些元素，使得数组中的元素按非递减顺序排列</li>
<li>排序算法的分类</li>
<li>比较排序：基于元素之间的比较来排序，包括选择排序、插入排序、归并排序、快速排序等</li>
<li>非比较排序：不基于元素之间的比较来排序，包括计数排序、基数排序和桶排序等</li>
<li>排序算法的性能指标<ul>
<li>时间复杂度：算法在最坏情况下、平均情况下和最好情况下的运行时间</li>
<li>空间复杂度：算法所需的额外空间</li>
<li>稳定性：如果两个元素相等，排序后它们的相对顺序是否保持不变</li>
</ul>
</li>
</ol>
<h4 id="262_selection_sort">26.2 Selection Sort 选择排序<a class="headerlink" href="#262_selection_sort" title="Permanent link">&para;</a></h4>
<ol>
<li>基本思想：每次从<strong>未排序部分</strong>中选择<strong>最小的元素</strong>，放到<strong>已排序部分的末尾</strong></li>
<li>从未排序部分中选择最小的元素</li>
<li>将该元素与未排序部分的第一个元素交换</li>
<li>重复上述步骤，直到所有元素都已排序</li>
<li>性能分析<ul>
<li>时间复杂度：<code>O(n^2)</code>，选择排序需要<strong>两层嵌套循环</strong>，外层循环<strong>遍历每个元素</strong>，内层循环<strong>查找未排序部分的最小元素</strong></li>
<li>空间复杂度：<code>O(1)</code>，选择排序是<strong>原地排序 <code>In-place Sort</code></strong> 算法，不需要额外的存储空间</li>
<li>稳定性：不稳定，选择排序在交换元素时，可能会改变相同元素的相对顺序</li>
</ul>
</li>
</ol>
<h4 id="263_heap_sort">26.3 Heap Sort 堆排序<a class="headerlink" href="#263_heap_sort" title="Permanent link">&para;</a></h4>
<ol>
<li>基本思想：基于堆这一数据结构的排序算法，一般使用最大堆进行排序</li>
<li>从最后一个非叶子节点开始，依次对每个节点进行堆化操作，将数组构建成一个最大堆</li>
<li>将堆顶元素 (最大值) 与堆的最后一个元素交换，并将堆的大小减1</li>
<li>对新的堆顶元素进行堆化操作，恢复最大堆的性质</li>
<li>继续交换堆顶元素和堆的最后一个元素，并进行堆化操作，直到整个数组有序</li>
<li>性能分析：<ul>
<li>时间复杂度：<code>O(n log n)</code>
构建最大堆的时间复杂度为<code>O(n)</code>，每次堆化操作的时间复杂度为<code>O(log n)</code>，总的时间复杂度为<code>O(n log n)</code></li>
<li>空间复杂度：<code>O(1)</code>，堆排序是原地排序算法，不需要额外的存储空间</li>
<li><strong>最大堆使得通过堆顶与堆的最后一个元素交换，从后往前构建一个已排序的数组</strong></li>
<li>稳定性：不稳定，堆排序在交换元素时，可能会改变相同元素的相对顺序</li>
</ul>
</li>
</ol>
<h4 id="264_merge_sort">26.4 Merge sort 归并排序<a class="headerlink" href="#264_merge_sort" title="Permanent link">&para;</a></h4>
<p><strong>可见 <a href="#lec15-asymptotics-ii-一些函数的渐进性分析"><code>Lec15.5</code></a></strong></p>
<h4 id="265_insertion_sort">26.5 Insertion Sort 插入排序<a class="headerlink" href="#265_insertion_sort" title="Permanent link">&para;</a></h4>
<ol>
<li>基本思想：将数组分为已排序部分和未排序部分，每次从未排序部分中取出一个元素，将其插入到已排序部分的适当位置</li>
<li>从数组的第二个元素开始，依次取出每个元素：<ul>
<li>第一个元素默认认为是已排序部分，从第二个元素开始处理</li>
</ul>
</li>
<li>将取出的元素与已排序部分的元素进行比较，找到适当的位置插入：<ul>
<li>从已排序部分的末尾开始，依次向前比较，找到第一个比取出元素大的位置</li>
<li>将比取出元素大的元素向后移动一个位置</li>
<li>将取出元素插入到找到的位置</li>
</ul>
</li>
<li>继续从未排序部分取出元素并插入到已排序部分，直到整个数组有序</li>
<li>性能分析：<ul>
<li>时间复杂度：<code>O(n^2)</code>：插入排序需要两层嵌套循环，外层循环遍历每个元素，内层循环查找插入位置并移动元素</li>
<li>在最坏情况下 (数组是逆序的)，每次插入都需要移动所有已排序部分的元素</li>
<li>对于<strong>几乎有序</strong>的情况下，插入排序的效率很高，接近<code>O(n)</code></li>
<li>空间复杂度：<code>O(1)</code>，插入排序是原地排序算法，不需要额外的存储空间</li>
<li>稳定性：稳定，插入排序在插入元素时，不会改变相同元素的相对顺序</li>
</ul>
</li>
</ol>
<h3 id="lec27_quick_sort">Lec.27 Quick Sort 快速排序<a class="headerlink" href="#lec27_quick_sort" title="Permanent link">&para;</a></h3>
<p>基本思想：基于<strong>分治法</strong>，通过<strong>递归</strong>地将数组分成较小的子数组来进行排序</p>
<h4 id="271_partitioning">27.1 Partitioning 分区<a class="headerlink" href="#271_partitioning" title="Permanent link">&para;</a></h4>
<ol>
<li>选择一个基准元素 <code>(pivot)</code>，然后重新排列数组，使得<strong>所有小于基准元素的元素都在基准元素的左边，所有大于基准元素的元素都在基准元素的右边</strong></li>
<li>算法：</li>
<li>选择一个基准元素 (通常是数组的第一个元素、最后一个元素或中间元素)</li>
<li>初始化两个指针：左指针从数组的左端开始，右指针从数组的右端开始</li>
<li>左指针向右移动，直到找到一个大于或等于基准元素的元素</li>
<li>右指针向左移动，直到找到一个小于或等于基准元素的元素</li>
<li>交换左指针和右指针指向的元素</li>
<li>重复步骤3-5，直到左指针和右指针相遇</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">partition</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-82-2"><a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="w">    </span><span class="c1">// 选择数组的第一个元素作为基准元素（pivot）</span>
</span><span id="True-82-3"><a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">pivot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="o">[</span><span class="n">low</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-82-4"><a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="w">    </span><span class="c1">// 初始化左指针，指向基准元素的下一个位置</span>
</span><span id="True-82-5"><a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">low</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-82-6"><a id="__codelineno-82-6" name="__codelineno-82-6" href="#__codelineno-82-6"></a><span class="w">    </span><span class="c1">// 初始化右指针，指向数组的最后一个位置</span>
</span><span id="True-82-7"><a id="__codelineno-82-7" name="__codelineno-82-7" href="#__codelineno-82-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">high</span><span class="p">;</span>
</span><span id="True-82-8"><a id="__codelineno-82-8" name="__codelineno-82-8" href="#__codelineno-82-8"></a>
</span><span id="True-82-9"><a id="__codelineno-82-9" name="__codelineno-82-9" href="#__codelineno-82-9"></a><span class="w">    </span><span class="c1">// 当左指针小于等于右指针时，继续循环</span>
</span><span id="True-82-10"><a id="__codelineno-82-10" name="__codelineno-82-10" href="#__codelineno-82-10"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">left</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">right</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-82-11"><a id="__codelineno-82-11" name="__codelineno-82-11" href="#__codelineno-82-11"></a><span class="w">        </span><span class="c1">// 向右移动左指针，直到找到一个大于基准元素的元素</span>
</span><span id="True-82-12"><a id="__codelineno-82-12" name="__codelineno-82-12" href="#__codelineno-82-12"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">left</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">array</span><span class="o">[</span><span class="n">left</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">pivot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-82-13"><a id="__codelineno-82-13" name="__codelineno-82-13" href="#__codelineno-82-13"></a><span class="w">            </span><span class="n">left</span><span class="o">++</span><span class="p">;</span>
</span><span id="True-82-14"><a id="__codelineno-82-14" name="__codelineno-82-14" href="#__codelineno-82-14"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-82-15"><a id="__codelineno-82-15" name="__codelineno-82-15" href="#__codelineno-82-15"></a><span class="w">        </span><span class="c1">// 向左移动右指针，直到找到一个小于基准元素的元素</span>
</span><span id="True-82-16"><a id="__codelineno-82-16" name="__codelineno-82-16" href="#__codelineno-82-16"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">left</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">array</span><span class="o">[</span><span class="n">right</span><span class="o">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">pivot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-82-17"><a id="__codelineno-82-17" name="__codelineno-82-17" href="#__codelineno-82-17"></a><span class="w">            </span><span class="n">right</span><span class="o">--</span><span class="p">;</span>
</span><span id="True-82-18"><a id="__codelineno-82-18" name="__codelineno-82-18" href="#__codelineno-82-18"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-82-19"><a id="__codelineno-82-19" name="__codelineno-82-19" href="#__codelineno-82-19"></a><span class="w">        </span><span class="c1">// 如果左指针小于右指针，交换左指针和右指针指向的元素</span>
</span><span id="True-82-20"><a id="__codelineno-82-20" name="__codelineno-82-20" href="#__codelineno-82-20"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">left</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">right</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-82-21"><a id="__codelineno-82-21" name="__codelineno-82-21" href="#__codelineno-82-21"></a><span class="w">            </span><span class="n">swap</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="p">);</span>
</span><span id="True-82-22"><a id="__codelineno-82-22" name="__codelineno-82-22" href="#__codelineno-82-22"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-82-23"><a id="__codelineno-82-23" name="__codelineno-82-23" href="#__codelineno-82-23"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-82-24"><a id="__codelineno-82-24" name="__codelineno-82-24" href="#__codelineno-82-24"></a><span class="w">    </span><span class="c1">// 将基准元素与右指针指向的元素交换</span>
</span><span id="True-82-25"><a id="__codelineno-82-25" name="__codelineno-82-25" href="#__codelineno-82-25"></a><span class="w">    </span><span class="n">swap</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="p">);</span>
</span><span id="True-82-26"><a id="__codelineno-82-26" name="__codelineno-82-26" href="#__codelineno-82-26"></a><span class="w">    </span><span class="c1">// 返回基准元素的新位置</span>
</span><span id="True-82-27"><a id="__codelineno-82-27" name="__codelineno-82-27" href="#__codelineno-82-27"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
</span><span id="True-82-28"><a id="__codelineno-82-28" name="__codelineno-82-28" href="#__codelineno-82-28"></a><span class="p">}</span>
</span><span id="True-82-29"><a id="__codelineno-82-29" name="__codelineno-82-29" href="#__codelineno-82-29"></a>
</span><span id="True-82-30"><a id="__codelineno-82-30" name="__codelineno-82-30" href="#__codelineno-82-30"></a><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">swap</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-82-31"><a id="__codelineno-82-31" name="__codelineno-82-31" href="#__codelineno-82-31"></a><span class="w">    </span><span class="c1">// 交换数组中索引为i和j的两个元素</span>
</span><span id="True-82-32"><a id="__codelineno-82-32" name="__codelineno-82-32" href="#__codelineno-82-32"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-82-33"><a id="__codelineno-82-33" name="__codelineno-82-33" href="#__codelineno-82-33"></a><span class="w">    </span><span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-82-34"><a id="__codelineno-82-34" name="__codelineno-82-34" href="#__codelineno-82-34"></a><span class="w">    </span><span class="n">array</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
</span><span id="True-82-35"><a id="__codelineno-82-35" name="__codelineno-82-35" href="#__codelineno-82-35"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="272">27.2 快速排序算法<a class="headerlink" href="#272" title="Permanent link">&para;</a></h4>
<p>通过递归地对数组进行<strong>分区</strong>来实现排序，每次分区后，基准元素的位置是确定的，然后<strong>对基准元素左边和右边的子数组分别进行快速排序</strong></p>
<ol>
<li>算法：</li>
<li>如果数组的长度为0或1，则数组已经有序，直接返回</li>
<li>对数组进行分区，得到基准元素的位置</li>
<li>递归地对基准元素左边的子数组进行快速排序</li>
<li>
<p>递归地对基准元素右边的子数组进行快速排序</p>
<div class="highlight"><pre><span></span><code><span id="True-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">quicksort</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-83-2"><a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">high</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-83-3"><a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partition</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="p">);</span>
</span><span id="True-83-4"><a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="w">        </span><span class="n">quicksort</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="True-83-5"><a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a><span class="w">        </span><span class="n">quicksort</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="p">);</span>
</span><span id="True-83-6"><a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-83-7"><a id="__codelineno-83-7" name="__codelineno-83-7" href="#__codelineno-83-7"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>性能分析：</p>
</li>
<li><strong>平均</strong>时间复杂度：<code>O(n log n)</code></li>
<li><strong>最坏</strong>时间复杂度：<code>O(n^2)</code>，在最坏情况下 (例如，每次选择的基准元素都是数组的最大或最小值)</li>
<li>空间复杂度：<code>O(log n)</code>，快速排序的空间复杂度主要来自<strong>递归调用栈的深度</strong>，<strong>平均</strong>情况下为 <code>O(log n)</code></li>
<li>性能优化：</li>
<li>
<p>选择好的基准元素：通过三数取中法 <strong><code>Median-of-Three</code></strong>减少最坏情况的发生
        - 从数组中选择三个元素：第一个元素、中间元素和最后一个元素
        - 将这三个元素进行排序
        - 选择排序后的中间值作为基准元素</p>
<div class="highlight"><pre><span></span><code>```java
private static int medianOfThree(int[] array, int low, int high) {
    int mid = low + (high - low) / 2;
    if (array[low] &gt; array[mid]) {
        swap(array, low, mid);
    }
    if (array[low] &gt; array[high]) {
        swap(array, low, high);
    }
    if (array[mid] &gt; array[high]) {
        swap(array, mid, high);
    }
    return array[mid];
}
```
</code></pre></div>
</li>
<li>
<p>小数组使用插入排序</p>
</li>
<li>
<p>尾递归优化：</p>
<ol>
<li>
<p>在快速排序的递归调用中，优先对较小的子数组进行递归，以确保递归调用栈的深度最小化
   <sub>较小的子数组递归调用会更快完成，从而减少递归调用栈的深度</sub></p>
</li>
<li>
<p>将对较大子数组的递归调用转换为尾递归</p>
<div class="highlight"><pre><span></span><code><span id="True-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">quicksort</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-85-2"><a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="w">    </span><span class="c1">// 当 low 小于 high 时继续排序</span>
</span><span id="True-85-3"><a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">high</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-85-4"><a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="w">        </span><span class="c1">// 对数组进行分区，并返回基准元素的位置</span>
</span><span id="True-85-5"><a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partition</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="p">);</span>
</span><span id="True-85-6"><a id="__codelineno-85-6" name="__codelineno-85-6" href="#__codelineno-85-6"></a><span class="w">        </span><span class="c1">// 比较左子数组和右子数组的大小，优先对较小的子数组进行递归</span>
</span><span id="True-85-7"><a id="__codelineno-85-7" name="__codelineno-85-7" href="#__codelineno-85-7"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">low</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">pivotIndex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-85-8"><a id="__codelineno-85-8" name="__codelineno-85-8" href="#__codelineno-85-8"></a><span class="w">            </span><span class="c1">// 如果左子数组较小，先对左子数组进行递归排序</span>
</span><span id="True-85-9"><a id="__codelineno-85-9" name="__codelineno-85-9" href="#__codelineno-85-9"></a><span class="w">            </span><span class="n">quicksort</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="True-85-10"><a id="__codelineno-85-10" name="__codelineno-85-10" href="#__codelineno-85-10"></a><span class="w">            </span><span class="c1">// 更新 low 的值，继续对右子数组进行排序</span>
</span><span id="True-85-11"><a id="__codelineno-85-11" name="__codelineno-85-11" href="#__codelineno-85-11"></a><span class="w">            </span><span class="n">low</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-85-12"><a id="__codelineno-85-12" name="__codelineno-85-12" href="#__codelineno-85-12"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-85-13"><a id="__codelineno-85-13" name="__codelineno-85-13" href="#__codelineno-85-13"></a><span class="w">            </span><span class="c1">// 如果右子数组较小，先对右子数组进行递归排序</span>
</span><span id="True-85-14"><a id="__codelineno-85-14" name="__codelineno-85-14" href="#__codelineno-85-14"></a><span class="w">            </span><span class="n">quicksort</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="p">);</span>
</span><span id="True-85-15"><a id="__codelineno-85-15" name="__codelineno-85-15" href="#__codelineno-85-15"></a><span class="w">            </span><span class="c1">// 更新 high 的值，继续对左子数组进行排序</span>
</span><span id="True-85-16"><a id="__codelineno-85-16" name="__codelineno-85-16" href="#__codelineno-85-16"></a><span class="w">            </span><span class="n">high</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-85-17"><a id="__codelineno-85-17" name="__codelineno-85-17" href="#__codelineno-85-17"></a><span class="w">        </span><span class="p">}</span>
</span><span id="True-85-18"><a id="__codelineno-85-18" name="__codelineno-85-18" href="#__codelineno-85-18"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-85-19"><a id="__codelineno-85-19" name="__codelineno-85-19" href="#__codelineno-85-19"></a><span class="p">}</span>
</span></code></pre></div>
</li>
</ol>
</li>
</ol>
<h4 id="273_quick_select">27.3 Quick Select 快速选择<a class="headerlink" href="#273_quick_select" title="Permanent link">&para;</a></h4>
<ol>
<li>用于查找数组中第 k 小元素的算法，基于快速排序的分区思想</li>
<li>
<p>算法：</p>
<ol>
<li>选择一个基准元素，并对数组进行分区</li>
<li>如果基准元素的位置等于k，则返回基准元素</li>
<li>如果基准元素的位置大于k，则在基准元素左边的子数组中递归查找</li>
<li>如果基准元素的位置小于k，则在基准元素右边的子数组中递归查找</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">quickSelect</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-86-2"><a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">high</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-86-3"><a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">array</span><span class="o">[</span><span class="n">low</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-86-4"><a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-86-5"><a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partition</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="p">);</span>
</span><span id="True-86-6"><a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">pivotIndex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-86-7"><a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">array</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-86-8"><a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">pivotIndex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-86-9"><a id="__codelineno-86-9" name="__codelineno-86-9" href="#__codelineno-86-9"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">quickSelect</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">);</span>
</span><span id="True-86-10"><a id="__codelineno-86-10" name="__codelineno-86-10" href="#__codelineno-86-10"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-86-11"><a id="__codelineno-86-11" name="__codelineno-86-11" href="#__codelineno-86-11"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">quickSelect</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">pivotIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">);</span>
</span><span id="True-86-12"><a id="__codelineno-86-12" name="__codelineno-86-12" href="#__codelineno-86-12"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-86-13"><a id="__codelineno-86-13" name="__codelineno-86-13" href="#__codelineno-86-13"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>平均时间复杂度为 <code>O(n)</code>，最坏时间复杂度为 <code>O(n^2)</code></p>
</li>
</ol>
<h3 id="lec28_radix_sort">Lec.28 Radix Sort 基数排序<a class="headerlink" href="#lec28_radix_sort" title="Permanent link">&para;</a></h3>
<h4 id="281_counting_sort">28.1 Counting Sort 计数排序<a class="headerlink" href="#281_counting_sort" title="Permanent link">&para;</a></h4>
<ol>
<li>一种非比较排序算法，适用于范围较小的整数排序，通过<strong>计数每个元素出现的次数来实现排序</strong></li>
<li>算法：<ol>
<li>找到数组中的最大值和最小值，确定计数数组的大小</li>
<li>初始化计数数组，记录每个元素出现的次数</li>
<li>计算计数数组的累积和，确定每个元素在排序后数组中的位置</li>
<li>根据计数数组，将元素放入排序后的数组中</li>
</ol>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span id="True-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">countingSort</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">array</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-87-2"><a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="w">    </span><span class="c1">// 找到数组中的最大值和最小值</span>
</span><span id="True-87-3"><a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">stream</span><span class="p">(</span><span class="n">array</span><span class="p">).</span><span class="na">max</span><span class="p">().</span><span class="na">getAsInt</span><span class="p">();</span>
</span><span id="True-87-4"><a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">stream</span><span class="p">(</span><span class="n">array</span><span class="p">).</span><span class="na">min</span><span class="p">().</span><span class="na">getAsInt</span><span class="p">();</span>
</span><span id="True-87-5"><a id="__codelineno-87-5" name="__codelineno-87-5" href="#__codelineno-87-5"></a><span class="w">    </span><span class="c1">// 计算计数数组的范围</span>
</span><span id="True-87-6"><a id="__codelineno-87-6" name="__codelineno-87-6" href="#__codelineno-87-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="True-87-7"><a id="__codelineno-87-7" name="__codelineno-87-7" href="#__codelineno-87-7"></a><span class="w">    </span><span class="c1">// 初始化计数数组和输出数组</span>
</span><span id="True-87-8"><a id="__codelineno-87-8" name="__codelineno-87-8" href="#__codelineno-87-8"></a><span class="w">    </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">range</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-87-9"><a id="__codelineno-87-9" name="__codelineno-87-9" href="#__codelineno-87-9"></a><span class="w">    </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">array</span><span class="p">.</span><span class="na">length</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-87-10"><a id="__codelineno-87-10" name="__codelineno-87-10" href="#__codelineno-87-10"></a><span class="w">    </span><span class="c1">// 统计每个元素的出现次数</span>
</span><span id="True-87-11"><a id="__codelineno-87-11" name="__codelineno-87-11" href="#__codelineno-87-11"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">array</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-87-12"><a id="__codelineno-87-12" name="__codelineno-87-12" href="#__codelineno-87-12"></a><span class="w">        </span><span class="n">count</span><span class="o">[</span><span class="n">num</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="o">]++</span><span class="p">;</span>
</span><span id="True-87-13"><a id="__codelineno-87-13" name="__codelineno-87-13" href="#__codelineno-87-13"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-87-14"><a id="__codelineno-87-14" name="__codelineno-87-14" href="#__codelineno-87-14"></a><span class="w">    </span><span class="c1">// 计算计数数组的累积和，确定每个元素在排序后数组中的位置</span>
</span><span id="True-87-15"><a id="__codelineno-87-15" name="__codelineno-87-15" href="#__codelineno-87-15"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">count</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-87-16"><a id="__codelineno-87-16" name="__codelineno-87-16" href="#__codelineno-87-16"></a><span class="w">        </span><span class="n">count</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">count</span><span class="o">[</span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-87-17"><a id="__codelineno-87-17" name="__codelineno-87-17" href="#__codelineno-87-17"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-87-18"><a id="__codelineno-87-18" name="__codelineno-87-18" href="#__codelineno-87-18"></a><span class="w">    </span><span class="c1">// 根据计数数组，将元素放入排序后的数组中</span>
</span><span id="True-87-19"><a id="__codelineno-87-19" name="__codelineno-87-19" href="#__codelineno-87-19"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="True-87-20"><a id="__codelineno-87-20" name="__codelineno-87-20" href="#__codelineno-87-20"></a><span class="w">        </span><span class="n">output</span><span class="o">[</span><span class="n">count</span><span class="o">[</span><span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="o">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span>
</span><span id="True-87-21"><a id="__codelineno-87-21" name="__codelineno-87-21" href="#__codelineno-87-21"></a><span class="w">        </span><span class="n">count</span><span class="o">[</span><span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="o">]--</span><span class="p">;</span>
</span><span id="True-87-22"><a id="__codelineno-87-22" name="__codelineno-87-22" href="#__codelineno-87-22"></a><span class="w">    </span><span class="p">}</span>
</span><span id="True-87-23"><a id="__codelineno-87-23" name="__codelineno-87-23" href="#__codelineno-87-23"></a><span class="w">    </span><span class="c1">// 将排序后的数组复制回原数组</span>
</span><span id="True-87-24"><a id="__codelineno-87-24" name="__codelineno-87-24" href="#__codelineno-87-24"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">arraycopy</span><span class="p">(</span><span class="n">output</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">array</span><span class="p">.</span><span class="na">length</span><span class="p">);</span>
</span><span id="True-87-25"><a id="__codelineno-87-25" name="__codelineno-87-25" href="#__codelineno-87-25"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="282_least_significant_digitlsd_radix_sort">28.2 Least Significant Digit(LSD) Radix Sort<a class="headerlink" href="#282_least_significant_digitlsd_radix_sort" title="Permanent link">&para;</a></h4>
<ol>
<li>从最低有效位开始排序的基数排序方法，它适用于<strong>固定长度的整数或字符串</strong>排序</li>
<li>算法：<ul>
<li>从最低有效位开始，对每个位进行计数排序</li>
<li>依次对每个位进行排序，直到最高有效位</li>
</ul>
</li>
<li>时间复杂度：<code>O(d(n+k))</code>，其中<code>d</code>是数字的位数，<code>k</code>是每个位的可能取值范围</li>
</ol>
<h3 id="lec29_just-in-time_compiler">Lec.29 即时编译器（Just-In-Time Compiler）<a class="headerlink" href="#lec29_just-in-time_compiler" title="Permanent link">&para;</a></h3>
<ol>
<li>定义:即时编译器 <code>JIT Compiler</code> 是一种在程序运行时将字节码编译为机器码的编译器。<code>JIT</code> 编译器是 <code>Java</code> 虚拟机 <code>JVM</code> 的一部分，用于提高 <code>Java</code> 程序的执行效率。</li>
<li>工作原理<ul>
<li>字节码解释：<code>JVM</code> 首先解释执行字节码</li>
<li>热点代码检测：<code>JIT</code> 编译器检测到热点代码（频繁执行的代码）</li>
<li>编译优化：<code>JIT</code> 编译器将热点代码编译为机器码，并进行优化</li>
<li>机器码执行：<code>JVM</code> 执行编译后的机器码，提高程序的执行效率</li>
</ul>
</li>
<li>优点<ul>
<li>性能提升：通过将热点代码编译为机器码，<code>JIT</code> 编译器可以显著提高程序的执行效率</li>
<li>动态优化：<code>JIT</code> 编译器可以在运行时进行优化，利用运行时信息进行更有效的优化</li>
</ul>
</li>
<li>缺点<ul>
<li>启动时间：<code>JIT</code> 编译器在程序启动时需要额外的时间进行编译，可能会导致启动时间变长</li>
<li>内存占用：编译后的机器码需要额外的内存空间</li>
</ul>
</li>
</ol>
<h3 id="lec30_compression_complexity_p_np">Lec.30 Compression, Complexity, P = NP<a class="headerlink" href="#lec30_compression_complexity_p_np" title="Permanent link">&para;</a></h3>
<ol>
<li>压缩模型<ul>
<li>统计模型：基于数据的统计特性进行压缩</li>
<li>字典模型：基于重复模式进行压缩</li>
<li>变换模型：通过变换数据表示形式进行压缩</li>
</ul>
</li>
<li><code>Kolmogorov</code>复杂性<ul>
<li>定义：描述一个字符串的最短程序长度</li>
<li>最优压缩：将数据压缩到其Kolmogorov复杂性所表示的最小长度</li>
</ul>
</li>
<li>空间时间有界压缩<ul>
<li>空间有界压缩：在有限的存储空间内进行数据压缩</li>
<li>时间有界压缩：在有限的时间内进行数据压缩</li>
<li>平衡空间和时间：在压缩效率、压缩速度和存储空间之间进行权衡</li>
</ul>
</li>
<li><code>P</code>与<code>NP</code><ul>
<li><code>P</code>类问题：可以在多项式时间内<strong>由确定性图灵机解决</strong>的问题</li>
<li><code>NP</code>类问题：可以在多项式时间内<strong>由非确定性图灵机验证</strong>的问题</li>
<li><code>P</code>与<code>NP</code>问题：询问<code>P</code>类问题是否等于<code>NP</code>类问题，即所有可以在多项式时间内验证的问题是否也可以在多项式时间内解决</li>
<li><code>NP</code>完全问题：<code>NP</code>类问题中的一类最难问题，如果可以在多项式时间内解决一个<code>NP</code>完全问题，那么所有<code>NP</code>类问题都可以在多项式时间内解决</li>
</ul>
</li>
</ol>
<hr />
<h3 id="cs61b_done">CS61B Done :)<a class="headerlink" href="#cs61b_done" title="Permanent link">&para;</a></h3>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.expand", "navigation.sections", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../javascripts/mathjax-config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>