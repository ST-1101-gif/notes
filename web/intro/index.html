
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ST-1101-gif.github.io/notes/web/intro/">
      
      
        <link rel="prev" href="../../owasp/File%20Upload/">
      
      
        <link rel="next" href="../transport/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>Introduction - 雨33的notebook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#layers_of_internet" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="雨33的notebook" class="md-header__button md-logo" aria-label="雨33的notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            雨33的notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introduction
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cs161/principles/" class="md-tabs__link">
          
  
  
  Computer Security

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  Internet

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../linux/shell/" class="md-tabs__link">
          
  
  
  Linux

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../linux/regular%20expression/" class="md-tabs__link">
        
  
  
    
  
  Regular Expression

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../git/git/" class="md-tabs__link">
        
  
  
    
  
  Git

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../Go/syntax/" class="md-tabs__link">
        
  
  
    
  
  Go

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cs61a%20notes/chap1/" class="md-tabs__link">
          
  
  
  python

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cs61b%20notes/java/" class="md-tabs__link">
          
  
  
  DS

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../SQL/MySQL/" class="md-tabs__link">
          
  
  
  SQL

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="雨33的notebook" class="md-nav__button md-logo" aria-label="雨33的notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    雨33的notebook
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    首页
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Computer Security
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Computer Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/principles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Principles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cryptography
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Cryptography
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/Cryptography/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/Cryptography/symmetric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Symmetric
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/Cryptography/hash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hash Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/Cryptography/asymmetric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Asymmetric
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Memory Safety
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Memory Safety
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/memory%20safety/x86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    x86 Assembly
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs161/memory%20safety/vulnerabilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vulnerabilities
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Web Security
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Web Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/csrf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSRF
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/xss/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    XSS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/sql%20injection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQL Injection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/command%20injection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command Injection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/File%20Inclusion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Inclusion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../owasp/File%20Upload/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Upload
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Internet
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Internet
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#layers_of_internet" class="md-nav__link">
    <span class="md-ellipsis">
      Layers of Internet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layers of Internet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layer_1_physical_layer" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 1: Physical Layer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layer_2_link_layer" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 2: Link Layer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layer_3_internet_layer" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 3: Internet Layer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layer 3: Internet Layer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#network_of_networks" class="md-nav__link">
    <span class="md-ellipsis">
      Network of Networks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-effort_service_model" class="md-nav__link">
    <span class="md-ellipsis">
      Best-Effort Service Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#packets_abstraction" class="md-nav__link">
    <span class="md-ellipsis">
      Packets Abstraction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layer_4_transport" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 4: Transport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layer_7_application" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 7: Application
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#headers" class="md-nav__link">
    <span class="md-ellipsis">
      Headers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Headers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#headers_are_standardized" class="md-nav__link">
    <span class="md-ellipsis">
      Headers are Standardized
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what_should_a_header_contain" class="md-nav__link">
    <span class="md-ellipsis">
      What Should a Header Contain?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple_headers" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple Headers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addressing_and_naming" class="md-nav__link">
    <span class="md-ellipsis">
      Addressing and Naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layers_at_hosts_and_routers" class="md-nav__link">
    <span class="md-ellipsis">
      Layers at Hosts and Routers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layers at Hosts and Routers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layers" class="md-nav__link">
    <span class="md-ellipsis">
      Layers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple_headers_1" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple Headers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consequence" class="md-nav__link">
    <span class="md-ellipsis">
      Consequence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network_architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Network Architecture
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#designing_resource_sharing" class="md-nav__link">
    <span class="md-ellipsis">
      Designing Resource Sharing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Designing Resource Sharing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#statistical_multiplexing" class="md-nav__link">
    <span class="md-ellipsis">
      Statistical Multiplexing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#circuit_switching_vs_packet_switching" class="md-nav__link">
    <span class="md-ellipsis">
      Circuit Switching vs. Packet Switching
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Circuit Switching vs. Packet Switching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#packet_switching" class="md-nav__link">
    <span class="md-ellipsis">
      Packet Switching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#circuit_switching" class="md-nav__link">
    <span class="md-ellipsis">
      Circuit Switching
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trade-offs" class="md-nav__link">
    <span class="md-ellipsis">
      Trade-offs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in_practice" class="md-nav__link">
    <span class="md-ellipsis">
      In Practice
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#link" class="md-nav__link">
    <span class="md-ellipsis">
      Link
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Link">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties_of_links" class="md-nav__link">
    <span class="md-ellipsis">
      Properties of Links
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#packet_delay" class="md-nav__link">
    <span class="md-ellipsis">
      Packet Delay
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overloaded_links" class="md-nav__link">
    <span class="md-ellipsis">
      Overloaded Links
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overloaded Links">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transient_overload" class="md-nav__link">
    <span class="md-ellipsis">
      Transient Overload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistent_overload" class="md-nav__link">
    <span class="md-ellipsis">
      Persistent Overload
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transport/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transport
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../applications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../end-to-end/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    End-to-End
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/vim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    vim
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/regular%20expression/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Regular Expression
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git/git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Go/syntax/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Go
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs61a%20notes/chap1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chap1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs61a%20notes/chap2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chap2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs61a%20notes/chap3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chap3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs61a%20notes/chap4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chap4
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            DS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cs61b%20notes/java/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SQL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/MySQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MySQL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#layers_of_internet" class="md-nav__link">
    <span class="md-ellipsis">
      Layers of Internet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layers of Internet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layer_1_physical_layer" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 1: Physical Layer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layer_2_link_layer" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 2: Link Layer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layer_3_internet_layer" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 3: Internet Layer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layer 3: Internet Layer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#network_of_networks" class="md-nav__link">
    <span class="md-ellipsis">
      Network of Networks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-effort_service_model" class="md-nav__link">
    <span class="md-ellipsis">
      Best-Effort Service Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#packets_abstraction" class="md-nav__link">
    <span class="md-ellipsis">
      Packets Abstraction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layer_4_transport" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 4: Transport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layer_7_application" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 7: Application
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#headers" class="md-nav__link">
    <span class="md-ellipsis">
      Headers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Headers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#headers_are_standardized" class="md-nav__link">
    <span class="md-ellipsis">
      Headers are Standardized
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what_should_a_header_contain" class="md-nav__link">
    <span class="md-ellipsis">
      What Should a Header Contain?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple_headers" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple Headers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addressing_and_naming" class="md-nav__link">
    <span class="md-ellipsis">
      Addressing and Naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layers_at_hosts_and_routers" class="md-nav__link">
    <span class="md-ellipsis">
      Layers at Hosts and Routers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layers at Hosts and Routers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layers" class="md-nav__link">
    <span class="md-ellipsis">
      Layers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple_headers_1" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple Headers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consequence" class="md-nav__link">
    <span class="md-ellipsis">
      Consequence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network_architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Network Architecture
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#designing_resource_sharing" class="md-nav__link">
    <span class="md-ellipsis">
      Designing Resource Sharing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Designing Resource Sharing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#statistical_multiplexing" class="md-nav__link">
    <span class="md-ellipsis">
      Statistical Multiplexing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#circuit_switching_vs_packet_switching" class="md-nav__link">
    <span class="md-ellipsis">
      Circuit Switching vs. Packet Switching
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Circuit Switching vs. Packet Switching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#packet_switching" class="md-nav__link">
    <span class="md-ellipsis">
      Packet Switching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#circuit_switching" class="md-nav__link">
    <span class="md-ellipsis">
      Circuit Switching
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trade-offs" class="md-nav__link">
    <span class="md-ellipsis">
      Trade-offs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in_practice" class="md-nav__link">
    <span class="md-ellipsis">
      In Practice
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#link" class="md-nav__link">
    <span class="md-ellipsis">
      Link
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Link">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties_of_links" class="md-nav__link">
    <span class="md-ellipsis">
      Properties of Links
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#packet_delay" class="md-nav__link">
    <span class="md-ellipsis">
      Packet Delay
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overloaded_links" class="md-nav__link">
    <span class="md-ellipsis">
      Overloaded Links
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overloaded Links">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transient_overload" class="md-nav__link">
    <span class="md-ellipsis">
      Transient Overload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistent_overload" class="md-nav__link">
    <span class="md-ellipsis">
      Persistent Overload
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Introduction</h1>

<h2 id="layers_of_internet">Layers of Internet<a class="headerlink" href="#layers_of_internet" title="Permanent link">&para;</a></h2>
<h3 id="layer_1_physical_layer">Layer 1: Physical Layer<a class="headerlink" href="#layer_1_physical_layer" title="Permanent link">&para;</a></h3>
<p>In the Internet, we’re looking for a way to signal bits (1s and 0s) across space. 
The technology could be voltages on an electrical wire, wireless radio waves, light pulses along optical fiber cables, among others.</p>
<h3 id="layer_2_link_layer">Layer 2: Link Layer<a class="headerlink" href="#layer_2_link_layer" title="Permanent link">&para;</a></h3>
<p>In the Internet, a <strong>link</strong> connects two machines. That link could be using any sort of technology (wired, wireless, optical fiber, etc.). If we use links to connect up a bunch of nearby computers, we get a <strong>local area network (LAN)</strong>.</p>
<p>At Layer 2, we can also group bits into units of data called <strong>packets</strong> (or <strong>frames</strong> at this layer), and define where a packet starts and ends in the physical signal. We can also handle problems like multiple people simultaneously using the same wire to send data.</p>
<h3 id="layer_3_internet_layer">Layer 3: Internet Layer<a class="headerlink" href="#layer_3_internet_layer" title="Permanent link">&para;</a></h3>
<p>In the Internet, the post office receiving and redirecting mail is called a <strong>switch</strong> or <strong>router</strong>.</p>
<p>If we build additional links between switches, we can connect up <strong>local networks</strong>. </p>
<p>With enough links and local networks, we can connect everybody in the world, resulting in the <strong>Internet</strong>.</p>
<p>On the Internet, the operators are <strong>Internet service providers</strong>, who own and operate Internet structure.</p>
<h4 id="network_of_networks">Network of Networks<a class="headerlink" href="#network_of_networks" title="Permanent link">&para;</a></h4>
<p><img alt="" src="../picture/internet.png" />
In the Internet, <strong>end hosts</strong> are machines (e.g. servers, laptops, phones) communicating over the Internet. By contrast, a <strong>switch</strong> (also called a <strong>router</strong>) is a machine that isn’t sending or receiving its own data, but exists to help the end hosts communicate with each other. </p>
<h4 id="best-effort_service_model">Best-Effort Service Model<a class="headerlink" href="#best-effort_service_model" title="Permanent link">&para;</a></h4>
<p>service model: a contract between the network and users, describing what the network does and doesn’t support.
The designers of the Internet didn’t support any of those models. Instead, the Internet only supports <strong>best effort</strong> delivery of data.
If you send data over Layer 3, the Internet will try its best to deliver it, but there is no guarantee that the data will be delivered. The Internet also won’t tell you whether or not the delivery succeeded.</p>
<h4 id="packets_abstraction">Packets Abstraction<a class="headerlink" href="#packets_abstraction" title="Permanent link">&para;</a></h4>
<p>Packets are limited in size. If the application has some large data to send (e.g. a video), we need to somehow split up that data into packets, and send each packet through the network independently.</p>
<h3 id="layer_4_transport">Layer 4: Transport<a class="headerlink" href="#layer_4_transport" title="Permanent link">&para;</a></h3>
<p>This layer uses Layer 3 as a building block, and implements an additional <strong>protocol</strong> for 
- re-sending lost packets, 
- splitting data into packets, and 
- reordering packets that arrive out-of-order (among other features).</p>
<p>The transport layer protocol allows us to stop thinking in terms of packets, and start thinking in terms of <strong>flows</strong>, streams of packets that are exchanged between two endpoints.</p>
<h3 id="layer_7_application">Layer 7: Application<a class="headerlink" href="#layer_7_application" title="Permanent link">&para;</a></h3>
<p>The Internet’s design allows it to be a general-purpose communication network for any type of application data.</p>
<hr />
<p>Each layer relies on services <em>from</em> the layer directly below, and provides services <em>to</em> the layer directly above.
Two layers interact directly through the <strong>interface</strong> between them.</p>
<hr />
<h2 id="headers">Headers<a class="headerlink" href="#headers" title="Permanent link">&para;</a></h2>
<p>Just like the envelope, when we send a packet, we need to attach additional metadata that tells the network infrastructure what to do with that packet. This additional metadata is called a <strong>header</strong>. The rest of the bits (e.g. the file being sent, the letter inside the envelope) is called the <strong>payload</strong>.</p>
<ul>
<li>
<p>The network infrastructure should only read the <strong>header</strong> to decide how to deliver the data.</p>
</li>
<li>
<p>The application at the end host cares about the <strong>payload</strong>, not the header. That said, the end hosts still need to know about headers, in order to add headers to packets before sending them.</p>
</li>
</ul>
<h3 id="headers_are_standardized">Headers are Standardized<a class="headerlink" href="#headers_are_standardized" title="Permanent link">&para;</a></h3>
<p>Everybody on the Internet (every end host, every switch) needs to agree on the format of a header.</p>
<h3 id="what_should_a_header_contain">What Should a Header Contain?<a class="headerlink" href="#what_should_a_header_contain" title="Permanent link">&para;</a></h3>
<ul>
<li>destination address, definitely</li>
</ul>
<p>other information that’s not required, but is useful to have:
- the source address</p>
<ul>
<li>
<p>checksum, to ensure that packet is not corrupted while in transit</p>
</li>
<li>
<p>other metadata like the length of the packet</p>
</li>
</ul>
<h3 id="multiple_headers">Multiple Headers<a class="headerlink" href="#multiple_headers" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../picture/header.png" />
Note that some layers offer multiple choices of protocol (e.g. wireless or wired protocols at Layer 2). In these cases, the two people communicating need to use the same choice of protocol. A wired sender can’t talk to a wireless recipient.</p>
<h3 id="addressing_and_naming">Addressing and Naming<a class="headerlink" href="#addressing_and_naming" title="Permanent link">&para;</a></h3>
<p>Different layers in the Internet have different addressing schemes that work best for that particular layer.</p>
<ul>
<li>Sometimes a host is referred to by its human-readable name (e.g. <a href="http://www.google.com">www.google.com</a>). </li>
<li>Other times, that same host is referred to by a machine-readable <strong>IP address</strong> (e.g. 74.124.56.2), where this number somehow encodes something about the server’s location (and could change if the server moves). </li>
<li>Other times, that same host could be referred to by its hardware <strong>MAC address</strong>, which never changes.</li>
</ul>
<h3 id="layers_at_hosts_and_routers">Layers at Hosts and Routers<a class="headerlink" href="#layers_at_hosts_and_routers" title="Permanent link">&para;</a></h3>
<h4 id="layers">Layers<a class="headerlink" href="#layers" title="Permanent link">&para;</a></h4>
<ul>
<li>The <strong>end hosts</strong> need to implement all the layers.</li>
<li>The <strong>router</strong> does need Layer 1 for receiving bits on a wire, Layer 2 for sending packets along the wire, and Layer 3 for forwarding packets in the global network.</li>
</ul>
<h4 id="multiple_headers_1">Multiple Headers<a class="headerlink" href="#multiple_headers_1" title="Permanent link">&para;</a></h4>
<p>First, Host A takes the message and works its way down the stack, adding headers for Layer 7, 4, 3, 2, and 1. 
<img alt="" src="../picture/header1.png" /></p>
<p>The router reads and unwraps the Layer 1 and Layer 2 headers, revealing the Layer 3 header underneath. The router reads this header to decide where to forward the packet next.
<img alt="" src="../picture/header2.png" /></p>
<p>Now, to pass the packet along to the next hop, the router must go down the stack again, wrapping new Layer 2 and Layer 1 headers, and then sending the bits along the wire to the next hop.
<img alt="" src="../picture/header3.png" /></p>
<p>This pattern repeats at every router</p>
<p>Eventually, the packet reaches Host B, who unwraps every layer, one by one: Layer 1, 2, 3, 4, 7. Host B has successfully received the message!
<img alt="" src="../picture/header5.png" /></p>
<p>In summary: Each router parses Layers 1 through 3, while the end hosts parse Layers 1 through 7.
<img alt="" src="../picture/header4.png" /></p>
<h4 id="consequence">Consequence<a class="headerlink" href="#consequence" title="Permanent link">&para;</a></h4>
<p>One consequence of this layering scheme is that each hop can use <em>different protocols at Layer 2 and 1</em>.
More generally, we said that each layer only needs to communicate with its peers at the same layer. 
- The host’s peer is the other host.
- The router’s peers are its neighboring routers along the path.</p>
<h2 id="network_architecture">Network Architecture<a class="headerlink" href="#network_architecture" title="Permanent link">&para;</a></h2>
<p>The term <strong>socket</strong> refers to an OS mechanism for connecting an application to the networking stack in the OS. 
When an application opens a socket, that socket is associated with a logical port number. When the OS receives a packet, it uses the port number to direct that packet to the associated socket.</p>
<h2 id="designing_resource_sharing">Designing Resource Sharing<a class="headerlink" href="#designing_resource_sharing" title="Permanent link">&para;</a></h2>
<h3 id="statistical_multiplexing">Statistical Multiplexing<a class="headerlink" href="#statistical_multiplexing" title="Permanent link">&para;</a></h3>
<p>The Internet needs to support many simultaneous flows at the same time, despite limited capacity.</p>
<p>We often say that the network resources are <strong>statistically multiplexed</strong>, which means that we’ll dynamically allocate resources to users based on their demand, instead of partitioning a fixed share of resources to users.</p>
<p><img alt="" src="../picture/multi.png" /></p>
<p>The premise that makes statistical multiplexing work is: In practice, the <em>peak of aggregate</em> demand is much less than the <em>aggregate of peak</em> demands.</p>
<p><img alt="" src="../picture/demand.png" />
<img alt="" src="../picture/aop.png" />
<img alt="" src="../picture/poa.png" /></p>
<p>Peaks could still happen at the same time, which would cause packets to be delayed or dropped (recall the link queue). 
Nevertheless, we made the design choice to statistically multiplex and use resources more efficiently, while dealing with the consequences (occasional simultaneous peaks).</p>
<h3 id="circuit_switching_vs_packet_switching">Circuit Switching vs. Packet Switching<a class="headerlink" href="#circuit_switching_vs_packet_switching" title="Permanent link">&para;</a></h3>
<p>How do we actually dynamically allocate resources between users?</p>
<h4 id="packet_switching">Packet Switching<a class="headerlink" href="#packet_switching" title="Permanent link">&para;</a></h4>
<p>One approach is <strong>best-effort</strong>. </p>
<p>Everybody sends their data into the network and hopes for the best. There’s no guarantee that there will be enough bandwidth to meet your demand.
The switch looks at each packet independently and forwards the packet closer to its destination. 
The switches are also independent from each other. As a packet hops across switches, every switch considers the packet independently.</p>
<h4 id="circuit_switching">Circuit Switching<a class="headerlink" href="#circuit_switching" title="Permanent link">&para;</a></h4>
<p>The other approach is based on </p>
<p>At the start of a flow, the end hosts identify a path (sequence of switches and links) through the network, using some routing algorithm. 
Then, the source sends a special reservation request message to the destination. Along the way, every switch hears about this request as well. If every switch accepts the request, then the reservation is made, and a circuit of switches has been established between the source and destination.
<img alt="" src="../picture/circuit1.png" /></p>
<p>Once the reservation is confirmed by every switch, data can be sent. Eventually, when the flow ends, the source sends a teardown message to the recipient. Along the way, every switch sees this message and releases its capacity.
<img alt="" src="../picture/circuit2.png" /></p>
<hr />
<p>Remember, both circuit switching and packet switching are embodying <strong>statistical multiplexing</strong>. 
The main difference is the granularity at which we’re allocating resources: <em>per-flow</em> with reservations, or <em>per-packet</em> with best-effort. 
Even in circuit switching, we’re dynamically allocating resources based on reservations. We are not preemptively reserving for all flows that might ever exist.</p>
<p><img alt="" src="../picture/share.png" /></p>
<h3 id="trade-offs">Trade-offs<a class="headerlink" href="#trade-offs" title="Permanent link">&para;</a></h3>
<p>Circuit switching gives the application better performance with reserved bandwidth. It also gives the developer more predictable behavior.</p>
<p>However, packet switching gives us more efficient sharing of bandwidth, and avoids startup time. It also gives us easier recovery from failure, and is generally simpler to implement (less for routers to think about).</p>
<h3 id="in_practice">In Practice<a class="headerlink" href="#in_practice" title="Permanent link">&para;</a></h3>
<p>In the modern Internet, packet switching is the default approach.</p>
<h2 id="link">Link<a class="headerlink" href="#link" title="Permanent link">&para;</a></h2>
<h3 id="properties_of_links">Properties of Links<a class="headerlink" href="#properties_of_links" title="Permanent link">&para;</a></h3>
<p>The <strong>bandwidth</strong> of a link tells us how many bits we can send on the link per unit time. 
Intuitively, this is the <em>speed</em> of the link. 
We usually measure bandwidth in <strong>bits per second</strong> (e.g. 5 Gbps = 5 billion bits per second).</p>
<p>The <strong>propagation delay</strong> of a link tells us how long it takes for a bit to travel along the link. 
Propagation delay is measured in time (e.g. nanoseconds, milliseconds).
-- In the context of a link, the <strong>latency</strong> is its propagation delay, though this word can also be used in other contexts</p>
<p>If we multiply the bandwidth and the propagation delay, we get the <strong>bandwidth-delay product (BDP)</strong>. 
Intuitively, this is the <em>capacity</em> of the link, or the number of bits that exist on the link at any given instant. </p>
<p>pipe analogy:
<img alt="" src="../picture/pipe.png" /></p>
<h3 id="packet_delay">Packet Delay<a class="headerlink" href="#packet_delay" title="Permanent link">&para;</a></h3>
<p>The <strong>transmission delay</strong> tells us how long it takes to put the bits on the wire. 
In general, this is the packet size divided by the link bandwidth.</p>
<p>The <strong>packet delay</strong> is the time it takes for an entire packet to be sent, starting from the time the first bit is put on the wire, to the time the last bit is received at the other end. 
This delay is the sum of the <strong>transmission delay</strong> and the <strong>propagation delay</strong>.</p>
<h3 id="overloaded_links">Overloaded Links<a class="headerlink" href="#overloaded_links" title="Permanent link">&para;</a></h3>
<h4 id="transient_overload">Transient Overload<a class="headerlink" href="#transient_overload" title="Permanent link">&para;</a></h4>
<p>In the long term, we have enough capacity to send all the outgoing packets, but at this very instant in time, we have two packets arriving simultaneously, and we can only send out one.</p>
<p><img alt="" src="../picture/load1.png" /></p>
<p>To cope with transient overload, the switch maintains a <em>queue</em> of packets. If two packets arrive simultaneously, the switch queues one of them and sends out the other one.
At any given time, the switch could choose to send a packet from one of the incoming links, or send a packet from the queue. This choice is determined by a <strong>packet scheduling</strong> algorithm.</p>
<h4 id="persistent_overload">Persistent Overload<a class="headerlink" href="#persistent_overload" title="Permanent link">&para;</a></h4>
<p>There just isn’t enough capacity on the outgoing link to support the level of incoming traffic.</p>
<p><img alt="" src="../picture/load2.png" /></p>
<p>We could fill the queue up, but that still isn’t enough to support the incoming load. One way or another, the switch will drop packets.
One possible solution to overload is to have the router tell the senders to slow down.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.expand", "navigation.sections", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../javascripts/mathjax-config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>